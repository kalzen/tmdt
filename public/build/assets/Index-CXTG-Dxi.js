import{r as j,j as e,L as P,$ as m,S as l}from"./app-BtGE91pR.js";import{A as T,D as f,a as v,b as g,c as i}from"./app-layout-CTGCn8wo.js";import{H as A}from"./heading-small-DTpMhSUQ.js";import{B as c}from"./button-DKLb_cAM.js";import{I as D}from"./input-CiV0XKd-.js";import{T as I,a as E,b as x,c as o,d as B,e as n}from"./table-BGrFBOb5.js";import{B as N}from"./badge-D3bSlaj0.js";import{C as M}from"./custom-pagination-BUYDUpTz.js";import{_ as a}from"./translate-BcvlAL58.js";import{C as k}from"./circle-plus-B9gQRBVD.js";import{C as z}from"./circle-x-BFlHa6ys.js";import{E as H}from"./ellipsis-PNBmoru-.js";import{E as L}from"./eye-Dtutchhq.js";import{P as R}from"./pencil-CJxhCfhm.js";import{T as $}from"./trash-2-BRFOBqEc.js";import"./sonner-ADRQgd_T.js";import"./index-DQkJsBT1.js";import"./index-DJJ0opRn.js";import"./index-DG753qKl.js";import"./index-DcQdqpwx.js";import"./index-Bw90D0kP.js";import"./app-logo-icon-E3-GpmeE.js";import"./list-CQBPjU6S.js";import"./store-oIZzt7RG.js";import"./breadcrumb-VnWDUXDp.js";import"./chevron-right-eQMH9edB.js";import"./pagination-Q-CnMMYj.js";import"./chevron-left-NyFFWzgL.js";import"./select-YY3QiZ0L.js";import"./index-B94CT-Ga.js";import"./chevron-down-kKVuXPxj.js";function ve({stores:r,filters:t}){const[h,w]=j.useState(t.search||""),[u,C]=j.useState(t.status||""),S=[{title:a("admin.stores","Stores"),href:route("stores.index")}],_=s=>{s.preventDefault(),p({search:h})},d=s=>{C(s),p({status:s})},p=s=>{l.get(route("stores.index"),{...t,...s,page:1},{preserveState:!0,replace:!0})},b=(s,y)=>{confirm(`Are you sure you want to delete the store "${y}"?`)&&l.delete(route("stores.destroy",s))};return e.jsxs(T,{breadcrumbs:S,children:[e.jsx(P,{title:a("admin.stores","Stores")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{title:a("admin.stores","Stores"),description:a("admin.stores_description","Manage stores and their owners")}),e.jsx(m,{href:route("stores.create"),children:e.jsxs(c,{children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),a("admin.create_store","Create Store")]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center pb-4 border-b",children:[e.jsx("form",{onSubmit:_,className:"flex-1 min-w-[240px]",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(D,{type:"search",placeholder:a("admin.search_stores","Search stores..."),className:"pl-4 pr-12",value:h,onChange:s=>w(s.target.value)}),e.jsx(c,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:a("admin.search","Search")})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(f,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"min-w-[150px] justify-between",children:[u==="active"?a("admin.active","Active"):u==="inactive"?a("admin.inactive","Inactive"):a("admin.all_statuses","All statuses"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsxs(g,{align:"start",className:"w-[150px]",children:[e.jsx(i,{onClick:()=>d(""),children:a("admin.all_statuses","All statuses")}),e.jsx(i,{onClick:()=>d("active"),children:a("admin.active","Active")}),e.jsx(i,{onClick:()=>d("inactive"),children:a("admin.inactive","Inactive")})]})]}),(t.search||t.status)&&e.jsx(c,{variant:"outline",size:"icon",onClick:()=>l.get(route("stores.index"),{}),title:a("admin.clear_filters","Clear filters"),children:e.jsx(z,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(I,{children:[e.jsx(E,{children:e.jsxs(x,{children:[e.jsx(o,{children:a("admin.store","Store")}),e.jsx(o,{children:a("admin.owner","Owner")}),e.jsx(o,{className:"text-center",children:a("admin.products","Products")}),e.jsx(o,{className:"text-center",children:a("admin.status","Status")}),e.jsx(o,{className:"text-right",children:a("admin.actions","Actions")})]})}),e.jsx(B,{children:r.data.length===0?e.jsx(x,{children:e.jsx(n,{colSpan:5,className:"text-center text-muted-foreground py-8",children:t.search||t.status?a("admin.no_stores_found_with_filters","No stores match your filters."):a("admin.no_stores_found","No stores found. Create your first store.")})}):r.data.map(s=>e.jsxs(x,{children:[e.jsx(n,{className:"font-medium",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:s.name}),s.is_featured&&e.jsx(N,{variant:"secondary",className:"w-fit mt-1",children:a("admin.featured","Featured")})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.user.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.user.email})]})}),e.jsx(n,{className:"text-center",children:s.products_count}),e.jsx(n,{className:"text-center",children:e.jsx(N,{variant:s.is_active?"success":"outline",children:s.is_active?a("admin.active","Active"):a("admin.inactive","Inactive")})}),e.jsx(n,{className:"text-right",children:e.jsxs(f,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"ghost",size:"icon",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(g,{align:"end",children:[e.jsx(i,{asChild:!0,children:e.jsxs(m,{href:route("stores.show",s.id),children:[e.jsx(L,{className:"h-4 w-4 mr-2"})," ",a("admin.view","View")]})}),e.jsx(i,{asChild:!0,children:e.jsxs(m,{href:route("stores.edit",s.id),children:[e.jsx(R,{className:"h-4 w-4 mr-2"})," ",a("admin.edit","Edit")]})}),e.jsxs(i,{onClick:()=>b(s.id,s.name),className:"text-destructive focus:text-destructive",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," ",a("admin.delete","Delete")]})]})]})})]},s.id))})]})}),r.meta&&r.meta.total>0&&e.jsx("div",{className:"mt-4 border-t pt-4",children:e.jsx(M,{currentPage:r.meta.current_page,lastPage:r.meta.last_page,perPage:parseInt(t.per_page||"10"),total:r.meta.total,from:r.meta.from,to:r.meta.to,onPageChange:s=>{l.get(route("stores.index"),{...t,page:s},{preserveState:!0,preserveScroll:!0})},onPerPageChange:s=>{l.get(route("stores.index"),{...t,per_page:s,page:1},{preserveState:!0})}})})]})]})}export{ve as default};
