import{j as e,L as v,$ as t}from"./app-CTkEoRiL.js";import{F as b}from"./frontend-layout-Btt2m4CU.js";import{C as x,a as u,b as g,d as j,e as f}from"./card-a5cDWnro.js";import{B as y}from"./button-BLGf1c8p.js";import{B as C}from"./badge-BuzGBPUm.js";import{T as P,a as k,b as w,c as N}from"./tabs-DARjOsbS.js";import{C as S}from"./custom-pagination-Dw4lWkm3.js";import"./sonner-Bbdbmtlb.js";import"./index-y6gelImh.js";import"./index-DbrZLYjj.js";import"./input-B5m8uf1K.js";import"./index-OyUCkdvO.js";import"./chevron-down-BZl8zNuU.js";import"./select-G7BiBGkl.js";import"./user-CvH0fq8F.js";import"./index-be4el7Mu.js";import"./pagination-BNKB9x0B.js";import"./chevron-left-CWK4uvuW.js";import"./ellipsis-Ct9pCJKg.js";function M({results:r,meta:a,type:n}){var i,c,l,d,m,h;return e.jsxs(b,{children:[e.jsx(v,{title:`Search Results for "${a.keyword}"`}),e.jsxs("div",{className:"container py-8",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-6",children:['Search Results for "',a.keyword,'"']}),e.jsxs(P,{defaultValue:n,className:"mb-6",children:[e.jsxs(k,{children:[e.jsx(w,{value:"products",asChild:!0,children:e.jsx(t,{href:route("frontend.search",{keyword:a.keyword,type:"products"}),children:"Products"})}),e.jsx(w,{value:"stores",asChild:!0,children:e.jsx(t,{href:route("frontend.search",{keyword:a.keyword,type:"stores"}),children:"Stores"})})]}),e.jsx(N,{value:"products",className:"mt-6",children:n==="products"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-muted-foreground mb-4",children:["Found ",a.count," products matching your search."]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.data.map(o=>{const s=o;return e.jsxs(x,{className:"overflow-hidden",children:[e.jsx(t,{href:route("frontend.products.show",s.slug),children:e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover transition-transform hover:scale-105"})})}),e.jsx(u,{className:"p-4 pb-0",children:e.jsx(t,{href:route("frontend.products.show",s.slug),children:e.jsx(g,{className:"text-lg line-clamp-2 hover:text-primary transition-colors",children:s.name})})}),e.jsxs(j,{className:"p-4 pt-2",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-lg font-bold",children:["$",s.sale_price||s.price]}),s.sale_price&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",s.price]})]}),s.store&&e.jsx(t,{href:route("frontend.stores.show",s.store.slug),className:"text-sm text-muted-foreground hover:text-primary transition-colors mt-1 block",children:s.store.name})]}),e.jsx(f,{className:"p-4 pt-0 flex flex-wrap gap-1",children:s.categories&&s.categories.slice(0,2).map(p=>e.jsx(C,{variant:"outline",className:"text-xs",children:p.name},p.id))})]},s.id)})})]})}),e.jsx(N,{value:"stores",className:"mt-6",children:n==="stores"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-muted-foreground mb-4",children:["Found ",a.count," stores matching your search."]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.data.map(o=>{const s=o;return e.jsxs(x,{className:"overflow-hidden",children:[e.jsx(t,{href:route("frontend.stores.show",s.slug),children:e.jsx("div",{className:"h-40 bg-muted flex items-center justify-center p-4",children:e.jsx("img",{src:s.logo,alt:s.name,className:"max-h-full max-w-full object-contain"})})}),e.jsx(u,{className:"p-4 pb-2",children:e.jsx(t,{href:route("frontend.stores.show",s.slug),children:e.jsx(g,{className:"text-xl hover:text-primary transition-colors",children:s.name})})}),e.jsxs(j,{className:"p-4 pt-0",children:[e.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[s.productCount," products"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Rating: ",s.rating,"/5"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Since ",s.joinDate]})]})]}),e.jsx(f,{className:"p-4 pt-0",children:e.jsx(y,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx(t,{href:route("frontend.stores.show",s.slug),children:"Visit Store"})})})]},s.id)})})]})})]}),r&&r.data&&r.data.length>0&&e.jsx("div",{className:"mt-8 border-t pt-4",children:e.jsx(S,{currentPage:((i=r.meta)==null?void 0:i.current_page)||1,lastPage:((c=r.meta)==null?void 0:c.last_page)||1,perPage:((l=r.meta)==null?void 0:l.per_page)||10,total:((d=r.meta)==null?void 0:d.total)||r.data.length,from:((m=r.meta)==null?void 0:m.from)||1,to:((h=r.meta)==null?void 0:h.to)||r.data.length,onPageChange:o=>{const s=new URL(window.location.href);s.searchParams.set("page",o.toString()),s.searchParams.set("type",n),s.searchParams.set("keyword",a.keyword),window.location.href=s.toString()},onPerPageChange:o=>{const s=new URL(window.location.href);s.searchParams.set("per_page",o.toString()),s.searchParams.set("page","1"),s.searchParams.set("type",n),s.searchParams.set("keyword",a.keyword),window.location.href=s.toString()}})})]})]})}export{M as default};
