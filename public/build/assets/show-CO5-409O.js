import{j as e,L as h,$ as o}from"./app-7ipYk7dP.js";import{A as u}from"./app-layout-B8CyoS_M.js";import{B as p}from"./button-D8P3krC6.js";import{C as a,a as r,b as n,c,d as l}from"./card-CfmV-VpU.js";import{B as j}from"./badge-CJvB2mZR.js";import{F as f}from"./ArrowLeftIcon-D_dJSUBB.js";import"./sonner-JYUXdybd.js";import"./index-CwS8MveZ.js";import"./index-Bqvv0ZXL.js";import"./index-DISz8nWA.js";import"./app-logo-icon-B4ouZEfb.js";import"./list-B0pc_53f.js";import"./store-DEeQdQMq.js";import"./breadcrumb-D302Vkzw.js";function L({log:s}){const m=d=>({created:"default",updated:"default",deleted:"destructive",force_deleted:"destructive",restored:"default",login:"default",logout:"secondary",login_failed:"destructive"})[d]||"default",x=d=>{if(!d)return"N/A";const t=d.split("\\");return t[t.length-1]},i=(()=>{if(s.action==="updated"&&s.old_values&&s.new_values){const d=[];for(const t in s.new_values)t in s.old_values&&s.old_values[t]!==s.new_values[t]&&d.push({field:t,old:s.old_values[t],new:s.new_values[t]});return d}return[]})();return e.jsxs(u,{children:[e.jsx(h,{title:"Chi tiết hoạt động"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-5xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(p,{variant:"outline",size:"sm",asChild:!0,className:"mr-4",children:e.jsxs(o,{href:route("activity-logs.index"),children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Quay lại"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Chi tiết hoạt động"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{children:"Thông tin cơ bản"}),e.jsx(j,{variant:m(s.action),children:s.action})]}),e.jsx(c,{children:s.description||"Không có mô tả"})]}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Thời gian"}),e.jsx("p",{children:new Date(s.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Người thực hiện"}),e.jsx("p",{children:s.user_name||"Ẩn danh"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Đối tượng"}),e.jsxs("p",{children:[x(s.model_type)," (ID: ",s.model_id||"N/A",")"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Địa chỉ IP"}),e.jsx("p",{children:s.ip_address||"Không xác định"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Trình duyệt"}),e.jsx("p",{className:"text-sm break-words",children:s.user_agent||"Không xác định"})]})]})]})})]}),(s.action==="created"||s.action==="updated"||s.action==="deleted")&&e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(n,{children:"Chi tiết thay đổi"}),e.jsxs(c,{children:[s.action==="created"&&"Dữ liệu được tạo mới",s.action==="updated"&&"Dữ liệu được cập nhật",s.action==="deleted"&&"Dữ liệu bị xóa"]})]}),e.jsxs(l,{children:[s.action==="created"&&s.new_values&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Dữ liệu đã tạo:"}),e.jsx("div",{className:"h-72 rounded-md border p-4 overflow-auto",children:e.jsx("pre",{className:"text-sm",children:JSON.stringify(s.new_values,null,2)})})]}),s.action==="deleted"&&s.old_values&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Dữ liệu đã xóa:"}),e.jsx("div",{className:"h-72 rounded-md border p-4 overflow-auto",children:e.jsx("pre",{className:"text-sm",children:JSON.stringify(s.old_values,null,2)})})]}),s.action==="updated"&&i.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Các thay đổi:"}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-border",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Trường"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Giá trị cũ"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Giá trị mới"})]})}),e.jsx("tbody",{className:"bg-card divide-y divide-border",children:i.map((d,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:d.field}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e.jsx("div",{className:"max-w-xs overflow-hidden text-ellipsis",children:String(d.old||"")})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e.jsx("div",{className:"max-w-xs overflow-hidden text-ellipsis",children:String(d.new||"")})})]},t))})]})})]}),s.action==="updated"&&i.length===0&&e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Không có thay đổi được ghi lại"})]})]})]})]})})]})}export{L as default};
