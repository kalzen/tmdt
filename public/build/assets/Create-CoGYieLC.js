import{m as L,r as T,j as e,L as M,$ as P}from"./app-CTjYd4Yg.js";import{_ as a}from"./translate-Dl6MEQz2.js";import{A as B}from"./app-layout-P4C6Khut.js";import{B as c}from"./button-B80Napdm.js";import{I as n}from"./input-D-oPDOGz.js";import{L as l}from"./label-wNb3btBw.js";import{C as b,a as _,b as g,c as y,d as C}from"./card-CsWEZwM9.js";import{S as h}from"./switch-B7p5Xtdb.js";import{H as R}from"./heading-small-DZPF1ebi.js";import{I as m}from"./input-error-PUWStMdT.js";import{D as z,a as E,b as H,c as $}from"./sonner-B5J-IIkK.js";import{P as O}from"./plus-CrSBjqfN.js";import{T as U}from"./trash-2-CypOp81-.js";import"./index-CmMZlTpR.js";import"./index-CdYhHM9B.js";import"./index-BVRrHDYC.js";import"./app-logo-icon-Bo1zcJa7.js";import"./list-CgZmfJW-.js";import"./store-C2fo4720.js";import"./breadcrumb-BvuFkj7F.js";import"./chevron-right-BA7hbPeM.js";import"./index-vYN4rJLC.js";import"./index-NAFYqDOP.js";function xe({types:x}){var f;const{data:t,setData:i,post:N,processing:j,errors:o,reset:w}=L({name:"",code:"",type:"",is_filterable:!1,is_required:!1,display_order:"0",is_active:!0,values:[]}),[u,A]=T.useState({}),k=[{title:a("admin.attributes","Attributes"),href:route("attributes.index")},{title:a("admin.create_attribute","Create Attribute"),href:route("attributes.create")}],S=s=>{s.preventDefault(),N(route("attributes.store"),{onSuccess:()=>{w()}})},V=s=>{i("type",s),["select","multiselect","radio"].includes(s)||i("values",[])},D=()=>{i("values",[...t.values,{value:""}])},F=s=>{const r=[...t.values];r.splice(s,1),i("values",r)},v=(s,r,d)=>{const p=[...t.values];p[s]={...p[s],[r]:d},i("values",p)},q=s=>{A({...u,[s]:!u[s]})},I=["select","multiselect","radio"].includes(t.type);return e.jsxs(B,{breadcrumbs:k,children:[e.jsx(M,{title:a("admin.create_attribute","Create Attribute")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(R,{title:a("admin.create_attribute","Create Attribute"),description:a("admin.create_attribute_description","Add a new product attribute")})}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(_,{children:[e.jsx(g,{children:a("admin.attribute_information","Attribute Information")}),e.jsx(y,{children:a("admin.attribute_information_description","Basic attribute details")})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"name",children:[a("admin.name","Name")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(n,{id:"name",value:t.name,onChange:s=>i("name",s.target.value),placeholder:a("admin.name_placeholder","Attribute name")}),e.jsx(m,{message:o.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"code",children:a("admin.code","Code")}),e.jsx(n,{id:"code",value:t.code,onChange:s=>i("code",s.target.value),placeholder:a("admin.code_placeholder","Attribute code (auto-generated if empty)")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.code_help","Used in code. Will be auto-generated from name if empty.")}),e.jsx(m,{message:o.code})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"type",children:[a("admin.type","Type")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(z,{children:[e.jsx(E,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"w-full justify-between",children:[t.type?(f=x.find(s=>s.value===t.type))==null?void 0:f.label:a("admin.select_type","Select type"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsx(H,{className:"w-full",children:x.map(s=>e.jsx($,{onClick:()=>V(s.value),children:s.label},s.value))})]}),e.jsx(m,{message:o.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"display_order",children:a("admin.display_order","Display Order")}),e.jsx(n,{id:"display_order",type:"number",min:"0",value:t.display_order,onChange:s=>i("display_order",s.target.value),placeholder:"0"}),e.jsx(m,{message:o.display_order})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{id:"is_filterable",checked:t.is_filterable,onCheckedChange:s=>i("is_filterable",s)}),e.jsx(l,{htmlFor:"is_filterable",children:a("admin.is_filterable","Filterable")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{id:"is_required",checked:t.is_required,onCheckedChange:s=>i("is_required",s)}),e.jsx(l,{htmlFor:"is_required",children:a("admin.is_required","Required")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{id:"is_active",checked:t.is_active,onCheckedChange:s=>i("is_active",s)}),e.jsx(l,{htmlFor:"is_active",children:a("admin.is_active","Active")})]})]})]})]}),I&&e.jsxs(b,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{children:[e.jsx(g,{children:a("admin.attribute_values","Attribute Values")}),e.jsx(y,{children:a("admin.attribute_values_description","Available options for this attribute")})]}),e.jsxs(c,{type:"button",onClick:D,variant:"outline",size:"sm",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),a("admin.add_value","Add Value")]})]}),e.jsx(C,{children:t.values.length===0?e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:a("admin.no_values",'No values yet. Click "Add Value" to create options for this attribute.')}):e.jsx("div",{className:"space-y-3",children:t.values.map((s,r)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(n,{value:s.value,onChange:d=>v(r,"value",d.target.value),placeholder:a("admin.value","Value")})}),t.type==="select"&&e.jsxs("div",{className:"w-32 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border cursor-pointer",style:s.color_code?{backgroundColor:s.color_code}:{},onClick:()=>q(r)}),u[r]&&e.jsx(n,{type:"color",value:s.color_code||"#000000",onChange:d=>v(r,"color_code",d.target.value),className:"w-20 h-8"})]}),e.jsx(c,{type:"button",variant:"ghost",size:"icon",onClick:()=>F(r),className:"text-destructive",children:e.jsx(U,{className:"h-4 w-4"})})]},r))})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{type:"submit",disabled:j,children:j?a("admin.saving","Saving..."):a("admin.save_attribute","Save Attribute")}),e.jsx(P,{href:route("attributes.index"),children:e.jsx(c,{variant:"outline",type:"button",children:a("admin.cancel","Cancel")})})]})]})]})]})}export{xe as default};
