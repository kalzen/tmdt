import{r as x,j as e,L as H,$ as m}from"./app-DHNzh_VC.js";import{F as G,S as J}from"./frontend-layout-Dke9p_A6.js";import{c as W,B as o}from"./button-B2oyIXXl.js";import{C as X,d as K}from"./card-LNnVeNUF.js";import{P as Q}from"./pagination-BJJQdxA8.js";import{I as S}from"./input-CnmXs62P.js";import{L as c}from"./label-DWQfPYVq.js";import{S as Y}from"./slider-CTlX-Kyk.js";import{S as w,a as _,b as F,c as C,d}from"./select-DpuWfs8y.js";import{C as i}from"./checkbox-Yq4sD2FV.js";import{S as Z,J as ee,k as se,X as f}from"./sonner-Cr_jOxrZ.js";import{B as ae,a as re,b as E,d as R,e as te}from"./breadcrumb-BhwNYiCZ.js";import{S as P}from"./separator-CTH0p9fd.js";import{A as le,a as ce,b as ie,c as ne}from"./accordion-7Rh2dZag.js";import"./tabs-4HD461Ia.js";import"./index-BQKTQ84O.js";import"./index-DY0_e_T1.js";import"./index-1DmtFonr.js";import"./loader-circle-Ct8fx0Kq.js";import"./navigation-menu-DYB-MOmx.js";import"./index-Dctsv1RR.js";import"./chevron-down-BZTg_nQV.js";import"./badge-CsRqFO5U.js";import"./chevron-left-D_JbqzJI.js";import"./chevron-right-BLAdJ8Ar.js";import"./ellipsis-BheFJj0E.js";import"./index-B2-qcrAV.js";import"./index-C3zM-eAB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],de=W("Filter",me);function Ve({products:r,filters:a}){var I;const[U,N]=x.useState(!1),[u,V]=x.useState(a.search||""),[l,v]=x.useState([a.min_price||0,a.max_price||1e3]),[k,q]=x.useState(a.sort_by||"created_at"),[$,D]=x.useState(a.sort_direction||"desc"),[A,T]=x.useState(((I=a.per_page)==null?void 0:I.toString())||"20"),z=s=>{s.preventDefault(),window.location.href=`/product?search=${u}`},B=()=>{const s={};u&&(s.search=u),s.min_price=l[0].toString(),s.max_price=l[1].toString(),s.sort_by=k,s.sort_direction=$,s.per_page=A,a.catalogue&&(s.catalogue=a.catalogue),a.store&&(s.store=a.store);const t=new URLSearchParams(s);window.location.href=`/product?${t.toString()}`},b=()=>{window.location.href="/product"};return e.jsxs(G,{children:[e.jsx(H,{title:"Products - Marketplace"}),e.jsxs("div",{className:"container px-4 py-8 mx-auto",children:[e.jsx(ae,{className:"mb-6",children:e.jsxs(re,{children:[e.jsx(E,{children:e.jsx(R,{href:"/",children:"Home"})}),e.jsx(te,{}),e.jsx(E,{children:e.jsx(R,{children:"Products"})})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Products"}),e.jsxs("p",{className:"text-muted-foreground",children:[r.meta.total," products found"]})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[e.jsx("form",{onSubmit:z,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{type:"search",placeholder:"Search products...",className:"pr-10 w-full md:w-[250px]",value:u,onChange:s=>V(s.target.value)}),e.jsxs(o,{type:"submit",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Search"})]})]})}),e.jsxs(Z,{open:U,onOpenChange:N,children:[e.jsx(ee,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"gap-2 md:hidden",children:[e.jsx(de,{className:"h-4 w-4"}),"Filters"]})}),e.jsx(se,{side:"left",className:"w-[300px] sm:w-[350px]",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filters"}),e.jsx("div",{className:"space-y-6 flex-1 overflow-y-auto",children:L()}),e.jsxs("div",{className:"pt-4 border-t mt-auto",children:[e.jsx(o,{className:"w-full mb-2",onClick:()=>{B(),N(!1)},children:"Apply Filters"}),e.jsx(o,{variant:"outline",className:"w-full",onClick:()=>{b(),N(!1)},children:"Clear Filters"})]})]})})]}),e.jsxs(w,{value:k,onValueChange:q,children:[e.jsx(_,{className:"w-[120px] md:w-[150px]",children:e.jsx(F,{placeholder:"Sort by"})}),e.jsxs(C,{children:[e.jsx(d,{value:"created_at",children:"Newest"}),e.jsx(d,{value:"price",children:"Price"}),e.jsx(d,{value:"name",children:"Name"})]})]}),e.jsxs(w,{value:$,onValueChange:D,children:[e.jsx(_,{className:"w-[100px]",children:e.jsx(F,{placeholder:"Order"})}),e.jsxs(C,{children:[e.jsx(d,{value:"asc",children:"Ascending"}),e.jsx(d,{value:"desc",children:"Descending"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"hidden md:block w-[280px] shrink-0",children:e.jsxs("div",{className:"bg-muted/20 rounded-lg p-4 sticky top-24",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Filters"}),e.jsx(o,{variant:"ghost",size:"sm",className:"text-xs h-auto p-1",onClick:b,children:"Clear all"})]}),L(),e.jsx(o,{onClick:B,className:"w-full mt-4",children:"Apply Filters"})]})}),e.jsxs("div",{className:"flex-1",children:[M()&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.search&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Search: ",a.search]}),e.jsx(m,{href:h("search"),children:e.jsx(f,{className:"h-3 w-3"})})]}),(a.min_price||a.max_price)&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Price: $",a.min_price||0," - $",a.max_price||1e3]}),e.jsx(m,{href:h(["min_price","max_price"]),children:e.jsx(f,{className:"h-3 w-3"})})]}),a.catalogue&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Category: ",a.catalogue]}),e.jsx(m,{href:h("catalogue"),children:e.jsx(f,{className:"h-3 w-3"})})]}),a.store&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Store: ",a.store]}),e.jsx(m,{href:h("store"),children:e.jsx(f,{className:"h-3 w-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:r.data.map(s=>e.jsxs(X,{className:"group overflow-hidden",children:[e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),s.discount_percentage>0&&e.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded-md",children:["-",s.discount_percentage,"%"]})]}),e.jsxs(K,{className:"p-4",children:[e.jsx(m,{href:`/product/${s.slug}`,className:"font-medium line-clamp-2 group-hover:text-primary transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{children:s.sale_price?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold text-primary",children:["$",s.sale_price.toFixed(2)]}),e.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["$",s.price.toFixed(2)]})]}):e.jsxs("span",{className:"font-bold text-primary",children:["$",s.price.toFixed(2)]})}),e.jsx(m,{href:`/store/${s.store.slug}`,className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:s.store.name})]})]})]},s.id))}),r.data.length===0&&e.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filter criteria"}),e.jsx(o,{onClick:b,children:"Clear All Filters"})]}),r.meta.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",r.meta.from,"-",r.meta.to," of ",r.meta.total," products"]}),e.jsx(Q,{children:e.jsxs("div",{className:"flex items-center justify-center",children:[r.meta.current_page>1&&e.jsx(m,{href:y(r.meta.current_page-1),className:"px-4 py-2 text-sm border rounded-l-md hover:bg-muted",children:"Previous"}),Array.from({length:r.meta.last_page},(s,t)=>t+1).filter(s=>s===1||s===r.meta.last_page||s>=r.meta.current_page-1&&s<=r.meta.current_page+1).map((s,t,n)=>t>0&&s>n[t-1]+1?e.jsx("span",{className:"px-4 py-2 text-sm border bg-background",children:"..."},`ellipsis-${s}`):e.jsx(m,{href:y(s),className:`px-4 py-2 text-sm border ${s===r.meta.current_page?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:s},s)),r.meta.current_page<r.meta.last_page&&e.jsx(m,{href:y(r.meta.current_page+1),className:"px-4 py-2 text-sm border rounded-r-md hover:bg-muted",children:"Next"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),e.jsxs(w,{value:A,onValueChange:s=>{T(s);const t=h("page");window.location.href=t+(t.includes("?")?"&":"?")+`per_page=${s}`},children:[e.jsx(_,{className:"w-[70px]",children:e.jsx(F,{placeholder:"20"})}),e.jsxs(C,{children:[e.jsx(d,{value:"12",children:"12"}),e.jsx(d,{value:"20",children:"20"}),e.jsx(d,{value:"36",children:"36"}),e.jsx(d,{value:"48",children:"48"})]})]})]})]})]})]})]})]});function L(){return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Price Range"}),e.jsx("div",{className:"px-2",children:e.jsx(Y,{value:l,max:1e3,step:10,onValueChange:s=>v(s)})}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm",children:["$",l[0]]}),e.jsxs("span",{className:"text-sm",children:["$",l[1]]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(S,{className:"h-8",type:"number",min:0,max:l[1],value:l[0],onChange:s=>v([parseInt(s.target.value)||0,l[1]])}),e.jsx("span",{children:"-"}),e.jsx(S,{className:"h-8",type:"number",min:l[0],max:1e3,value:l[1],onChange:s=>v([l[0],parseInt(s.target.value)||0])})]})]}),e.jsx(P,{}),e.jsx(le,{type:"multiple",className:"w-full",children:e.jsxs(ce,{value:"categories",className:"border-none",children:[e.jsx(ie,{className:"py-1",children:e.jsx("span",{className:"text-sm font-medium",children:"Categories"})}),e.jsx(ne,{children:e.jsxs("div",{className:"pl-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"category-electronics"}),e.jsx(c,{htmlFor:"category-electronics",className:"text-sm",children:"Electronics"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"category-clothing"}),e.jsx(c,{htmlFor:"category-clothing",className:"text-sm",children:"Clothing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"category-home"}),e.jsx(c,{htmlFor:"category-home",className:"text-sm",children:"Home & Garden"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"category-beauty"}),e.jsx(c,{htmlFor:"category-beauty",className:"text-sm",children:"Beauty"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"category-sports"}),e.jsx(c,{htmlFor:"category-sports",className:"text-sm",children:"Sports"})]}),e.jsx(o,{variant:"link",size:"sm",className:"p-0 h-auto text-xs",children:"View more categories"})]})})]})}),e.jsx(P,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Availability"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"in-stock"}),e.jsx(c,{htmlFor:"in-stock",className:"text-sm",children:"In Stock"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"out-of-stock"}),e.jsx(c,{htmlFor:"out-of-stock",className:"text-sm",children:"Out of Stock"})]})]})]}),e.jsx(P,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Rating"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"rating-5"}),e.jsxs(c,{htmlFor:"rating-5",className:"text-sm flex",children:[e.jsx("span",{children:"★★★★★"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"(5 stars)"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"rating-4"}),e.jsxs(c,{htmlFor:"rating-4",className:"text-sm flex",children:[e.jsx("span",{children:"★★★★☆"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"(4+ stars)"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{id:"rating-3"}),e.jsxs(c,{htmlFor:"rating-3",className:"text-sm flex",children:[e.jsx("span",{children:"★★★☆☆"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"(3+ stars)"})]})]})]})]})]})}function M(){return!!(a.search||a.min_price||a.max_price||a.catalogue||a.store)}function h(s){const t=Array.isArray(s)?s:[s],n={...a};t.forEach(g=>{g in n&&delete n[g]});const p=new URLSearchParams;Object.entries(n).forEach(([g,O])=>{O!==void 0&&p.append(g,O.toString())});const j=p.toString();return`/product${j?`?${j}`:""}`}function y(s){const t={...a},n=new URLSearchParams;return Object.entries(t).forEach(([p,j])=>{p!=="page"&&j!==void 0&&n.append(p,j.toString())}),n.set("page",s.toString()),`/product?${n.toString()}`}}export{Ve as default};
