import{r as j,j as e,L as P,$ as m,S as l}from"./app-BmKbL8Jn.js";import{A as T}from"./app-layout-Dqi2hUez.js";import{H as A}from"./heading-small-D7y1GvmY.js";import{B as c}from"./button-BIak8uwc.js";import{I as D}from"./input-Br1hcY4K.js";import{T as I,a as E,b as x,c as o,d as B,e as i}from"./table-CI5DcBri.js";import{B as f}from"./badge-BwAyAzuy.js";import{C as M}from"./custom-pagination-CFgEBNLc.js";import{D as v,a as g,b as N,c as n}from"./sonner-CrCPklHr.js";import{_ as a}from"./translate-gI4BC6X-.js";import{C as k}from"./circle-plus-DZG3IO96.js";import{C as z}from"./circle-x-6iIsTeLT.js";import{E as H}from"./ellipsis-CtZrZQjW.js";import{E as L}from"./eye-CklXEoH7.js";import{P as R}from"./pencil-sbllYJtd.js";import{T as $}from"./trash-2-DICyYnBz.js";import"./index-BgUO5pnB.js";import"./index-BC8y7YVM.js";import"./index-BJzPfRLd.js";import"./app-logo-icon-D2O12iQB.js";import"./list-DkH1bP6-.js";import"./store-CNQmX5q0.js";import"./breadcrumb-DMKth552.js";import"./chevron-right-CMxIAWNw.js";import"./pagination-djLaap8s.js";import"./chevron-left-DKokutOE.js";import"./select-EoNNM9p0.js";import"./index-BlIenqYZ.js";import"./chevron-down-BSk8qzUo.js";import"./index-BgoRfv8I.js";function fe({stores:r,filters:t}){const[h,w]=j.useState(t.search||""),[u,C]=j.useState(t.status||""),S=[{title:a("admin.stores","Stores"),href:route("stores.index")}],_=s=>{s.preventDefault(),p({search:h})},d=s=>{C(s),p({status:s})},p=s=>{l.get(route("stores.index"),{...t,...s,page:1},{preserveState:!0,replace:!0})},b=(s,y)=>{confirm(`Are you sure you want to delete the store "${y}"?`)&&l.delete(route("stores.destroy",s))};return e.jsxs(T,{breadcrumbs:S,children:[e.jsx(P,{title:a("admin.stores","Stores")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A,{title:a("admin.stores","Stores"),description:a("admin.stores_description","Manage stores and their owners")}),e.jsx(m,{href:route("stores.create"),children:e.jsxs(c,{children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),a("admin.create_store","Create Store")]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center pb-4 border-b",children:[e.jsx("form",{onSubmit:_,className:"flex-1 min-w-[240px]",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(D,{type:"search",placeholder:a("admin.search_stores","Search stores..."),className:"pl-4 pr-12",value:h,onChange:s=>w(s.target.value)}),e.jsx(c,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:a("admin.search","Search")})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(v,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"min-w-[150px] justify-between",children:[u==="active"?a("admin.active","Active"):u==="inactive"?a("admin.inactive","Inactive"):a("admin.all_statuses","All statuses"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsxs(N,{align:"start",className:"w-[150px]",children:[e.jsx(n,{onClick:()=>d(""),children:a("admin.all_statuses","All statuses")}),e.jsx(n,{onClick:()=>d("active"),children:a("admin.active","Active")}),e.jsx(n,{onClick:()=>d("inactive"),children:a("admin.inactive","Inactive")})]})]}),(t.search||t.status)&&e.jsx(c,{variant:"outline",size:"icon",onClick:()=>l.get(route("stores.index"),{}),title:a("admin.clear_filters","Clear filters"),children:e.jsx(z,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(I,{children:[e.jsx(E,{children:e.jsxs(x,{children:[e.jsx(o,{children:a("admin.store","Store")}),e.jsx(o,{children:a("admin.owner","Owner")}),e.jsx(o,{className:"text-center",children:a("admin.products","Products")}),e.jsx(o,{className:"text-center",children:a("admin.status","Status")}),e.jsx(o,{className:"text-right",children:a("admin.actions","Actions")})]})}),e.jsx(B,{children:r.data.length===0?e.jsx(x,{children:e.jsx(i,{colSpan:5,className:"text-center text-muted-foreground py-8",children:t.search||t.status?a("admin.no_stores_found_with_filters","No stores match your filters."):a("admin.no_stores_found","No stores found. Create your first store.")})}):r.data.map(s=>e.jsxs(x,{children:[e.jsx(i,{className:"font-medium",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:s.name}),s.is_featured&&e.jsx(f,{variant:"secondary",className:"w-fit mt-1",children:a("admin.featured","Featured")})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.user.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.user.email})]})}),e.jsx(i,{className:"text-center",children:s.products_count}),e.jsx(i,{className:"text-center",children:e.jsx(f,{variant:s.is_active?"success":"outline",children:s.is_active?a("admin.active","Active"):a("admin.inactive","Inactive")})}),e.jsx(i,{className:"text-right",children:e.jsxs(v,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(c,{variant:"ghost",size:"icon",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(N,{align:"end",children:[e.jsx(n,{asChild:!0,children:e.jsxs(m,{href:route("stores.show",s.id),children:[e.jsx(L,{className:"h-4 w-4 mr-2"})," ",a("admin.view","View")]})}),e.jsx(n,{asChild:!0,children:e.jsxs(m,{href:route("stores.edit",s.id),children:[e.jsx(R,{className:"h-4 w-4 mr-2"})," ",a("admin.edit","Edit")]})}),e.jsxs(n,{onClick:()=>b(s.id,s.name),className:"text-destructive focus:text-destructive",children:[e.jsx($,{className:"h-4 w-4 mr-2"})," ",a("admin.delete","Delete")]})]})]})})]},s.id))})]})}),r.meta&&r.meta.total>0&&e.jsx("div",{className:"mt-4 border-t pt-4",children:e.jsx(M,{currentPage:r.meta.current_page,lastPage:r.meta.last_page,perPage:parseInt(t.per_page||"10"),total:r.meta.total,from:r.meta.from,to:r.meta.to,onPageChange:s=>{l.get(route("stores.index"),{...t,page:s},{preserveState:!0,preserveScroll:!0})},onPerPageChange:s=>{l.get(route("stores.index"),{...t,per_page:s,page:1},{preserveState:!0})}})})]})]})}export{fe as default};
