import{r as x,j as e,L as b,$ as j,S as l}from"./app-BhvTda6e.js";import{A as C,D as _,a as M,b as T,c as u}from"./app-layout-vH0LvJVu.js";import{c as g,B as i}from"./button-BdNEgath.js";import{I as D}from"./input-0RQWDwNk.js";import{T as U,a as k,b as d,c as n,d as P,e as t}from"./table-Doqw2m1g.js";import{B as m}from"./badge-CwldhtLU.js";import{S as A,a as H,b as I,c as R,d as c}from"./select-BYXZ9Jey.js";import{C as E}from"./custom-pagination-D0OuqEku.js";import{H as V}from"./heading-small-8ZoRsi6m.js";import{U as B}from"./user-BsX3QPoz.js";import{E as L}from"./ellipsis-CB0-puxy.js";import{P as z}from"./pencil-25RlWEJN.js";import{T as F}from"./trash-2-BlwfjHm_.js";import"./sonner-D7c6ZWeA.js";import"./index-CGchK_Ki.js";import"./index-CTF0y8wE.js";import"./index-DhEtN7wE.js";import"./index-BK5bXZ1w.js";import"./index-BPY4IIk-.js";import"./app-logo-icon-DVJgeGQB.js";import"./list-Do_Lw9YG.js";import"./store-meRrLiSz.js";import"./breadcrumb-Baf7XTIB.js";import"./index-CWi796Mn.js";import"./chevron-down-Dovr4nYo.js";import"./pagination-D7NJx9F9.js";import"./chevron-left-DLmFMuGg.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],q=g("Shield",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Q=g("Trophy",G);function Ne({users:r,filters:s}){const[o,f]=x.useState(s.search||""),[h,v]=x.useState(s.role||""),N=[{title:"Users",href:route("users.index")}],y=a=>{a.preventDefault(),l.get(route("users.index"),{search:o,role:h,per_page:s.per_page||"10"},{preserveState:!0})},S=a=>{v(a);const p={search:o,per_page:s.per_page||"10"};a!=="all"&&(p.role=a),l.get(route("users.index"),p,{preserveState:!0})},w=a=>{confirm("Are you sure you want to delete this user?")&&l.delete(route("users.destroy",a))};return e.jsxs(C,{breadcrumbs:N,children:[e.jsx(b,{title:"Users Management"}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{title:"Users Management",description:"Manage user accounts in your system"}),e.jsx(j,{href:route("users.create"),children:e.jsx(i,{children:"Create User"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("form",{onSubmit:y,className:"flex-1 max-w-sm",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(D,{type:"search",placeholder:"Search users...",className:"pl-4 pr-12",value:o,onChange:a=>f(a.target.value)}),e.jsx(i,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:"Search"})]})}),e.jsxs(A,{value:h,onValueChange:S,children:[e.jsx(H,{className:"w-[180px]",children:e.jsx(I,{placeholder:"Filter by role"})}),e.jsxs(R,{children:[e.jsx(c,{value:"all",children:"All Users"}),e.jsx(c,{value:"admin",children:"Administrators"}),e.jsx(c,{value:"gold",children:"Gold Users"}),e.jsx(c,{value:"regular",children:"Regular Users"})]})]}),(s.search||s.role)&&e.jsx(i,{variant:"ghost",onClick:()=>l.get(route("users.index"),{}),children:"Clear filters"})]}),e.jsx("div",{className:"border rounded-md",children:e.jsxs(U,{children:[e.jsx(k,{children:e.jsxs(d,{children:[e.jsx(n,{className:"w-[50px]",children:"Avatar"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Email"}),e.jsx(n,{children:"Role"}),e.jsx(n,{children:"Created"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(P,{children:r.data.length===0?e.jsx(d,{children:e.jsx(t,{colSpan:6,className:"text-center text-muted-foreground py-8",children:s.search||s.role?"No users found matching the current filters":"No users found."})}):r.data.map(a=>e.jsxs(d,{children:[e.jsx(t,{children:e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e.jsx("img",{src:a.avatar||"/assets/images/default-avatar.png",alt:a.name,className:"w-full h-full object-cover"})})}),e.jsx(t,{className:"font-medium",children:a.name}),e.jsx(t,{children:a.email}),e.jsx(t,{children:e.jsxs("div",{className:"flex gap-2",children:[a.is_admin&&e.jsxs(m,{variant:"success",className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-3 w-3"})," Admin"]}),a.is_gold&&e.jsxs(m,{variant:"warning",className:"flex items-center gap-1",children:[e.jsx(Q,{className:"h-3 w-3"})," Gold"]}),!a.is_admin&&!a.is_gold&&e.jsxs(m,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"})," Regular"]})]})}),e.jsx(t,{children:new Date(a.created_at).toLocaleDateString()}),e.jsx(t,{className:"text-right",children:e.jsxs(_,{children:[e.jsx(M,{asChild:!0,children:e.jsxs(i,{variant:"ghost",size:"icon",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(T,{align:"end",children:[e.jsx(u,{asChild:!0,children:e.jsxs(j,{href:route("users.edit",a.id),children:[e.jsx(z,{className:"h-4 w-4 mr-2"})," Edit"]})}),e.jsxs(u,{onClick:()=>w(a.id),children:[e.jsx(F,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]},a.id))})]})}),r&&r.data&&r.data.length>0&&e.jsx("div",{className:"mt-4 border-t pt-4",children:e.jsx(E,{currentPage:r.meta.current_page,lastPage:r.meta.last_page,perPage:parseInt(s.per_page||"10"),total:r.meta.total,from:r.meta.from,to:r.meta.to,onPageChange:a=>{l.get(route("users.index"),{...s,page:a},{preserveState:!0,preserveScroll:!0})},onPerPageChange:a=>{l.get(route("users.index"),{...s,per_page:a,page:1},{preserveState:!0})}})})]})]})}export{Ne as default};
