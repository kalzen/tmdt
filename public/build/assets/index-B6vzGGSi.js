import{r as h,j as e,L as T,$ as c,S as g}from"./app-BhvTda6e.js";import{A,d as w,e as D,f as S}from"./app-layout-vH0LvJVu.js";import{B as n}from"./button-BdNEgath.js";import{H as k}from"./heading-small-8ZoRsi6m.js";import{I as H}from"./input-0RQWDwNk.js";import{T as L,a as B,b as f,c as t,d as F,e as i}from"./table-Doqw2m1g.js";import{B as _}from"./badge-CwldhtLU.js";import{S as Q}from"./switch-B-q_mdVs.js";import{A as z,a as I,b as V,c as E,d as R,e as K,f as M,g as X,h as $}from"./alert-dialog-DpcDjaAl.js";import{a as q}from"./helpers-BnKCNx3y.js";import{F as v}from"./PlusIcon-C3AGg3EQ.js";import"./sonner-D7c6ZWeA.js";import"./index-CGchK_Ki.js";import"./index-CTF0y8wE.js";import"./index-DhEtN7wE.js";import"./index-BK5bXZ1w.js";import"./index-BPY4IIk-.js";import"./app-logo-icon-DVJgeGQB.js";import"./list-Do_Lw9YG.js";import"./store-meRrLiSz.js";import"./breadcrumb-Baf7XTIB.js";import"./index-CWi796Mn.js";function je({members:a}){const[d,o]=h.useState(!1),[r,C]=h.useState(""),[x,j]=h.useState(a);h.useEffect(()=>{if(r.trim()==="")j(a);else{const s=r.toLowerCase();j(a.filter(l=>{var p,m,u;return l.name.toLowerCase().includes(s)||((p=l.position)==null?void 0:p.toLowerCase().includes(s))||((m=l.email)==null?void 0:m.toLowerCase().includes(s))||((u=l.phone)==null?void 0:u.toLowerCase().includes(s))}))}},[r,a]);const y=s=>{o(!0),g.delete(route("members.destroy",s),{onFinish:()=>o(!1)})},N=s=>{g.put(route("members.update",s.id),{...s,is_active:!s.is_active})};return e.jsxs(A,{children:[e.jsx(T,{title:"Quản lý Thành Viên"}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsx(k,{title:"Quản lý Thành Viên",description:"Quản lý thông tin các thành viên trong tổ chức của bạn"}),e.jsx(n,{asChild:!0,children:e.jsxs(c,{href:route("members.create"),children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Thêm Thành Viên"]})})]}),a.length>0&&e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"relative flex-1 max-w-sm",children:e.jsx(H,{type:"search",placeholder:"Tìm kiếm thành viên...",className:"pl-8",value:r,onChange:s=>C(s.target.value)})})}),x.length>0?e.jsxs(L,{children:[e.jsx(B,{children:e.jsxs(f,{children:[e.jsx(t,{className:"w-[80px]",children:"Ảnh"}),e.jsx(t,{children:"Họ tên"}),e.jsx(t,{children:"Chức vụ"}),e.jsx(t,{children:"Liên hệ"}),e.jsx(t,{children:"Trạng thái"}),e.jsx(t,{className:"text-right",children:"Thao tác"})]})}),e.jsx(F,{children:x.map(s=>e.jsxs(f,{children:[e.jsx(i,{children:e.jsxs(w,{className:"size-12",children:[e.jsx(D,{src:q(s.avatar_thumb),alt:s.name}),e.jsx(S,{children:s.name.charAt(0)})]})}),e.jsx(i,{className:"font-medium",children:s.name}),e.jsx(i,{children:s.position||"Chưa cập nhật"}),e.jsx(i,{children:e.jsxs("div",{className:"text-sm space-y-1",children:[s.email&&e.jsx("div",{children:s.email}),s.phone&&e.jsx("div",{children:s.phone})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{checked:s.is_active,onCheckedChange:()=>N(s)}),e.jsx(_,{variant:s.is_active?"default":"secondary",children:s.is_active?"Đang hoạt động":"Không hoạt động"})]})}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(c,{href:route("members.edit",s.id),children:"Sửa"})}),e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(c,{href:route("members.show",s.id),children:"Chi tiết"})}),e.jsxs(z,{children:[e.jsx(I,{asChild:!0,children:e.jsx(n,{variant:"destructive",size:"sm",children:"Xóa"})}),e.jsxs(V,{children:[e.jsxs(E,{children:[e.jsx(R,{children:"Bạn có chắc chắn?"}),e.jsx(K,{children:"Hành động này sẽ xóa thành viên và không thể khôi phục."})]}),e.jsxs(M,{children:[e.jsx(X,{children:"Hủy bỏ"}),e.jsx($,{onClick:()=>y(s.id),disabled:d,children:d?"Đang xóa...":"Xác nhận xóa"})]})]})]})]})})]},s.id))})]}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a.length===0?"Chưa có thành viên nào. Hãy thêm thành viên đầu tiên của bạn.":"Không tìm thấy thành viên nào khớp với từ khóa tìm kiếm."}),a.length===0&&e.jsx(n,{asChild:!0,className:"mt-4",children:e.jsxs(c,{href:route("members.create"),children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Thêm Thành Viên"]})})]})]})]})}export{je as default};
