import{r as u,j as e,L as F,$ as h,S as p}from"./app-DoLmbgn3.js";import{H as $}from"./heading-small-B9FDfNWY.js";import{A as q,D as j,a as f,b as g,c as t}from"./app-layout-B7qisbrD.js";import{B as n}from"./button-BuKHbg0-.js";import{I as Q}from"./input-IeKPRO8x.js";import{T as K,a as O,b as v,c as l,d as U,e as i}from"./table-D-0Imm7r.js";import{B as I}from"./badge-CnVZ43v8.js";import{_ as a}from"./translate-Ci6TZGYH.js";import{f as N}from"./helpers-BnKCNx3y.js";import{C as V}from"./circle-x-B9V3TJNi.js";import{I as X}from"./image-BeGi8mMw.js";import{E as G}from"./ellipsis-CU2D4QbG.js";import{E as J}from"./eye-DUjDkAiU.js";import{P as W}from"./pencil-C2zSNgYL.js";import{T as Y}from"./trash-2-Bj57b77d.js";import"./sonner-sPSZtJQC.js";import"./index-COBOBu7u.js";import"./index-C2Wllq5a.js";import"./index-B7j_sk4M.js";import"./app-logo-icon-m0fZ1TeS.js";import"./list-C4Mf-WHr.js";import"./store-D2RLA305.js";import"./breadcrumb-64qyQnpe.js";function ye({products:P,catalogues:T,filters:c}){var k;const w=P||{data:[]},y=T||[],r=c||{},D=Array.isArray(y)?y:[],[_,B]=u.useState(r.search||""),[C,E]=u.useState(r.catalogue_id||""),[b,M]=u.useState(r.status||""),R=[{title:a("admin.products","Products"),href:route("products.index")}],z=s=>{s.preventDefault(),m({search:_})},S=s=>{E(s),m({catalogue_id:s})},o=s=>{M(s),m({status:s})},m=s=>{p.get(route("products.index"),{...r,...s,page:1},{preserveState:!0,replace:!0})},x=D.map(s=>{const d=s.level||0,H=d>0?"â€”".repeat(d)+" ":"";return{id:s.id,name:H+s.name}}),L=(s,d)=>{confirm(`Are you sure you want to delete "${d}"?`)&&p.delete(route("products.destroy",s))},A=Array.isArray(w.data)?w.data:[];return e.jsxs(q,{breadcrumbs:R,children:[e.jsx(F,{title:a("admin.products","Products")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{title:a("admin.products","Products"),description:a("admin.products_description","Manage your products inventory")}),e.jsx(h,{href:route("products.create"),children:e.jsx(n,{children:a("admin.create_product","Create Product")})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center pb-4 border-b",children:[e.jsx("form",{onSubmit:z,className:"flex-1 min-w-[240px]",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(Q,{type:"search",placeholder:a("admin.search_products","Search products..."),className:"pl-4 pr-12",value:_,onChange:s=>B(s.target.value)}),e.jsx(n,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:a("admin.search","Search")})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.length>0&&e.jsxs(j,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"min-w-[180px] justify-between",children:[C?(k=x.find(s=>s.id.toString()===C))==null?void 0:k.name:a("admin.all_catalogues","All catalogues"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsxs(g,{align:"start",className:"w-[180px] max-h-[400px] overflow-auto",children:[e.jsx(t,{onClick:()=>S(""),children:a("admin.all_catalogues","All catalogues")}),x.map(s=>e.jsx(t,{onClick:()=>S(s.id.toString()),children:s.name},s.id))]})]}),e.jsxs(j,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"min-w-[150px] justify-between",children:[b==="active"?a("admin.active","Active"):b==="inactive"?a("admin.inactive","Inactive"):a("admin.all_statuses","All statuses"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsxs(g,{align:"start",className:"w-[150px]",children:[e.jsx(t,{onClick:()=>o(""),children:a("admin.all_statuses","All statuses")}),e.jsx(t,{onClick:()=>o("active"),children:a("admin.active","Active")}),e.jsx(t,{onClick:()=>o("inactive"),children:a("admin.inactive","Inactive")})]})]}),(c.search||c.catalogue_id||c.status)&&e.jsx(n,{variant:"outline",size:"icon",onClick:()=>p.get(route("products.index"),{}),title:a("admin.clear_filters","Clear filters"),children:e.jsx(V,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(K,{children:[e.jsx(O,{children:e.jsxs(v,{children:[e.jsx(l,{className:"w-[100px]",children:a("admin.image","Image")}),e.jsx(l,{children:a("admin.product","Product")}),e.jsx(l,{children:a("admin.catalogue","Catalogue")}),e.jsx(l,{className:"text-right",children:a("admin.price","Price")}),e.jsx(l,{className:"text-center",children:a("admin.stock","Stock")}),e.jsx(l,{className:"text-center",children:a("admin.status","Status")}),e.jsx(l,{className:"text-right",children:a("admin.actions","Actions")})]})}),e.jsx(U,{children:A.length===0?e.jsx(v,{children:e.jsx(i,{colSpan:7,className:"text-center text-muted-foreground py-8",children:r.search||r.catalogue_id||r.status?a("admin.no_products_found_with_filters","No products match your filters."):a("admin.no_products_found","No products found. Create your first product.")})}):A.map(s=>e.jsxs(v,{children:[e.jsx(i,{children:e.jsx("div",{className:"w-[100px] h-[100px] flex items-center justify-center",children:s.thumbnail_url?e.jsx("img",{src:s.thumbnail_url,alt:s.title,className:"max-w-[100px] max-h-[100px] object-contain"}):e.jsx("div",{className:"w-[100px] h-[100px] flex items-center justify-center bg-muted rounded-md",children:e.jsx(X,{className:"h-8 w-8 text-muted-foreground"})})})}),e.jsx(i,{className:"font-medium",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:s.title}),s.sku&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["SKU: ",s.sku]})]})}),e.jsxs(i,{children:[s.catalogue.name,s.catalogue_count>1&&e.jsxs(I,{variant:"outline",className:"ml-1",children:["+",s.catalogue_count-1]})]}),e.jsx(i,{className:"text-right",children:e.jsx("div",{className:"flex flex-col items-end",children:s.sale_price?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium",children:N(s.sale_price)}),e.jsx("span",{className:"text-xs text-muted-foreground line-through",children:N(s.price)})]}):e.jsx("span",{className:"font-medium",children:N(s.price)})})}),e.jsx(i,{className:"text-center",children:e.jsx("span",{className:s.stock_quantity<=0?"text-destructive":"",children:s.stock_quantity})}),e.jsx(i,{className:"text-center",children:e.jsx(I,{variant:s.is_active?"success":"outline",children:s.is_active?a("admin.active","Active"):a("admin.inactive","Inactive")})}),e.jsx(i,{className:"text-right",children:e.jsxs(j,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(n,{variant:"ghost",size:"icon",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(g,{align:"end",children:[e.jsx(t,{asChild:!0,children:e.jsxs(h,{href:route("products.show",s.id),children:[e.jsx(J,{className:"h-4 w-4 mr-2"})," ",a("admin.view","View")]})}),e.jsx(t,{asChild:!0,children:e.jsxs(h,{href:route("products.edit",s.id),children:[e.jsx(W,{className:"h-4 w-4 mr-2"})," ",a("admin.edit","Edit")]})}),e.jsxs(t,{onClick:()=>L(s.id,s.title),className:"text-destructive focus:text-destructive",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"})," ",a("admin.delete","Delete")]})]})]})})]},s.id))})]})})]})]})}export{ye as default};
