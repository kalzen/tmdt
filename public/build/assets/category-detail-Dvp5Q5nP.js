import{r as f,j as e,L as I,R as A,$ as d,S as g}from"./app-QbjXTKzh.js";import{F as q}from"./frontend-layout-BS1HBoi6.js";import{c as B,B as i}from"./button-B8wjhN7Y.js";import{C as w,d as k}from"./card-o6zUSsbd.js";import{B as E,a as G,b as C,d as H,e as O,c as D}from"./breadcrumb-BrtXsSKp.js";import{S as _,a as S,b as F,c as M,d as o}from"./select-BisRr67h.js";import{I as h}from"./input-B6w6POZb.js";import{S as P}from"./slider-ojGBi5E9.js";import{f as c}from"./helpers-BnKCNx3y.js";import{C as T}from"./chevron-right-BhrR5n3A.js";import"./sonner-hbo21y-f.js";import"./index-DfWIRgMm.js";import"./index-BcdlRrPC.js";import"./index-BGN7cd1Q.js";import"./index-CjAmKvHK.js";import"./tabs-BKPmiyB4.js";import"./label-zagdFmM3.js";import"./loader-circle-DBmuWDkO.js";import"./navigation-menu-kw0fGqgs.js";import"./index-D1dj_Ixk.js";import"./chevron-down-DzhzKOu5.js";import"./badge-LZ5mEXSK.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],R=B("Grid3x3",J);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Q=B("SlidersHorizontal",K);function fe({category:a,products:l,breadcrumbs:v,filters:n,sortOptions:z}){const[r,t]=f.useState([n.price_min||0,n.price_max||1e4]),[m,N]=f.useState("grid"),[b,L]=f.useState(!1),V=s=>{j({sort:s})},$=s=>{j({per_page:s})},y=()=>{j({price_min:r[0],price_max:r[1]})},p=s=>{g.get(route("frontend.categories.show",a.slug),{...n,page:s},{preserveScroll:!0,preserveState:!0})},j=s=>{g.get(route("frontend.categories.show",a.slug),{...n,...s,page:1},{preserveScroll:!0,preserveState:!0})},u=()=>{g.get(route("frontend.categories.show",a.slug),{sort:"created_at|desc",per_page:24})};return e.jsxs(q,{title:`${a.name} - Products`,description:a.description||`Browse all products in ${a.name}`,children:[e.jsx(I,{title:`${a.name} - Products`}),e.jsxs("div",{className:"container px-4 py-8",children:[e.jsx(E,{className:"mb-6",children:e.jsx(G,{children:v.map((s,x)=>e.jsx(A.Fragment,{children:x<v.length-1?e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx(H,{asChild:!0,children:e.jsx(d,{href:s.slug?route("frontend.categories.show",s.slug):"/",children:s.name})})}),e.jsx(O,{children:e.jsx(T,{className:"h-4 w-4"})})]}):e.jsx(C,{children:e.jsx(D,{children:s.name})})},x))})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6 mb-8",children:[e.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:a.name}),a.description&&e.jsx("p",{className:"text-muted-foreground mb-2",children:a.description}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:a.product_count})," products found"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"hidden md:block space-y-6",children:[a.children.length>0&&e.jsxs("div",{className:"bg-card rounded-lg p-4 border",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Subcategories"}),e.jsx("ul",{className:"space-y-2",children:a.children.map(s=>e.jsx("li",{children:e.jsxs(d,{href:route("frontend.categories.show",s.slug),className:"text-sm hover:text-primary flex items-center justify-between",children:[e.jsx("span",{children:s.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",s.product_count,")"]})]})},s.id))})]}),e.jsxs("div",{className:"bg-card rounded-lg p-4 border",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Price Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(P,{min:0,max:1e4,step:100,value:r,onValueChange:s=>t(s),className:"mb-6"}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(h,{type:"number",placeholder:"Min",value:r[0],onChange:s=>t([Number(s.target.value),r[1]]),className:"text-sm"})}),e.jsx("div",{className:"flex-1",children:e.jsx(h,{type:"number",placeholder:"Max",value:r[1],onChange:s=>t([r[0],Number(s.target.value)]),className:"text-sm"})})]}),e.jsx(i,{variant:"outline",className:"w-full",onClick:y,children:"Apply"})]})]}),e.jsx(i,{variant:"outline",className:"w-full",onClick:u,children:"Reset Filters"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6 pb-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",className:"md:hidden",onClick:()=>L(!b),children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Filters"]}),e.jsxs(_,{value:n.sort,onValueChange:V,children:[e.jsx(S,{className:"w-[180px]",children:e.jsx(F,{placeholder:"Sort by"})}),e.jsx(M,{children:z.map(s=>e.jsx(o,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center border rounded-md p-1",children:[e.jsx(i,{variant:m==="grid"?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>N("grid"),children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx(i,{variant:m==="list"?"default":"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>N("list"),children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsxs(_,{value:n.per_page.toString(),onValueChange:$,children:[e.jsx(S,{className:"w-[100px]",children:e.jsx(F,{placeholder:"Show"})}),e.jsxs(M,{children:[e.jsx(o,{value:"12",children:"12 per page"}),e.jsx(o,{value:"24",children:"24 per page"}),e.jsx(o,{value:"48",children:"48 per page"})]})]})]})]}),b&&e.jsxs("div",{className:"md:hidden mb-6 space-y-4 bg-muted/20 p-4 rounded-lg",children:[a.children.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Subcategories"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.children.map(s=>e.jsxs(d,{href:route("frontend.categories.show",s.slug),className:"text-sm bg-background px-3 py-1 rounded-full hover:bg-primary hover:text-primary-foreground transition-colors",children:[s.name," (",s.product_count,")"]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Price Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(P,{min:0,max:1e4,step:100,value:r,onValueChange:s=>t(s),className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(h,{type:"number",placeholder:"Min",value:r[0],onChange:s=>t([Number(s.target.value),r[1]])})}),e.jsx("div",{className:"flex-1",children:e.jsx(h,{type:"number",placeholder:"Max",value:r[1],onChange:s=>t([r[0],Number(s.target.value)])})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",className:"flex-1",onClick:y,children:"Apply"}),e.jsx(i,{variant:"outline",className:"flex-1",onClick:u,children:"Reset"})]})]})]})]}),!l||!l.data||l.data.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found for this category."}),e.jsx(i,{onClick:u,variant:"outline",children:"Reset Filters"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:m==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:l.data.map(s=>m==="grid"?e.jsx(d,{href:route("frontend.products.show",s.slug),className:"block",children:e.jsxs(w,{className:"h-full overflow-hidden transition-shadow hover:shadow-md",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),e.jsxs(k,{className:"p-4",children:[e.jsx("h3",{className:"line-clamp-2 font-medium hover:text-primary transition-colors",children:s.name}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("div",{children:s.sale_price?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-primary font-bold",children:c(s.sale_price)}),e.jsx("span",{className:"text-muted-foreground text-xs line-through",children:c(s.price)})]}):e.jsx("span",{className:"text-primary font-bold",children:c(s.price)})}),s.store&&e.jsx("span",{className:"text-xs text-muted-foreground",children:s.store.name})]})]})]})},s.id):e.jsx(d,{href:route("frontend.products.show",s.slug),className:"block",children:e.jsx(w,{className:"overflow-hidden transition-shadow hover:shadow-md",children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs(k,{className:"p-4 flex-1",children:[e.jsx("h3",{className:"font-medium hover:text-primary transition-colors",children:s.name}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("div",{children:s.sale_price?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:c(s.sale_price)}),e.jsx("span",{className:"text-muted-foreground text-xs line-through",children:c(s.price)})]}):e.jsx("span",{className:"text-primary font-bold",children:c(s.price)})}),s.store&&e.jsx("span",{className:"text-xs text-muted-foreground",children:s.store.name})]})]})]})})},s.id))}),l&&l.meta&&l.meta.last_page>1&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>p(l.meta.current_page-1),disabled:l.meta.current_page===1,children:"Previous"}),Array.from({length:l.meta.last_page},(s,x)=>x+1).map(s=>e.jsx(i,{variant:s===l.meta.current_page?"default":"outline",size:"sm",onClick:()=>p(s),className:"w-9",children:s},s)),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>p(l.meta.current_page+1),disabled:l.meta.current_page===l.meta.last_page,children:"Next"})]})})]})]})]})]})]})}export{fe as default};
