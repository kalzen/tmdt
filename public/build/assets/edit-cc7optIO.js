import{m as N,r as y,j as e,L as f,$ as b}from"./app-DVolXm_H.js";import{A as w}from"./app-layout-BGMCOdRm.js";import{B as m}from"./button-DbKjlMrn.js";import{C as S,a as F,b as T,c as L,d as M,e as k}from"./card-BM4_Yqij.js";import{I as h}from"./input-BqT_-I7N.js";import{L as r}from"./label-BbBB_dkE.js";import{T as p}from"./textarea-B0P-i12b.js";import{S as H,a as I,b as D,c as E,d as U}from"./select-D0xov34E.js";import{I as o}from"./image-uploader-DO1pPgw5.js";import{F as V}from"./ArrowLeftIcon-DIG1Q5ey.js";import"./sonner-CEinsP_z.js";import"./index-_mtVRR73.js";import"./index-C7NGfonP.js";import"./index-CW0FACpT.js";import"./index-BG5QGlun.js";import"./app-logo-icon-CCGXo8xc.js";import"./list-CcDTc0Y3.js";import"./store-CV19H3N4.js";import"./breadcrumb-Co9X1bHK.js";import"./chevron-right-C1IPqF67.js";import"./index-Bh82dGG3.js";import"./chevron-down-B2stwFhm.js";import"./PencilIcon-3FGGf-Tn.js";function re({config:i,types:x,media:n}){const{data:l,setData:a,patch:u,processing:c,errors:s}=N({name:i.name||"",title:i.title||"",value:i.value||"",type:i.type||"string",description:i.description||"",logo:null,favicon:null,thumbnail:null}),[d,j]=y.useState(i.type==="image"),v=t=>{t.preventDefault(),u(route("configs.update",i.id))},g=t=>{a("type",t),j(t==="image")};return e.jsxs(w,{children:[e.jsx(f,{title:"Chỉnh Sửa Cấu Hình"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(m,{variant:"outline",size:"sm",asChild:!0,className:"mr-4",children:e.jsxs(b,{href:route("configs.index"),children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Quay lại"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Chỉnh Sửa Cấu Hình"})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(T,{children:"Thông Tin Cấu Hình"}),e.jsx(L,{children:"Cập nhật thông tin chi tiết cho cấu hình."})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"title",children:"Tên hiển thị"}),e.jsx(h,{id:"title",value:l.title,onChange:t=>a("title",t.target.value),placeholder:"Nhập tên hiển thị cho cấu hình"}),s.title&&e.jsx("p",{className:"text-sm text-red-600",children:s.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name",children:"Mã cấu hình"}),e.jsx(h,{id:"name",value:l.name,onChange:t=>a("name",t.target.value),placeholder:"Ví dụ: site_title"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mã cấu hình phải là duy nhất và không chứa khoảng trắng hay ký tự đặc biệt."}),s.name&&e.jsx("p",{className:"text-sm text-red-600",children:s.name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"type",children:"Kiểu dữ liệu"}),e.jsxs(H,{value:l.type,onValueChange:g,children:[e.jsx(I,{children:e.jsx(D,{placeholder:"Chọn kiểu dữ liệu"})}),e.jsx(E,{children:Object.entries(x).map(([t,C])=>e.jsx(U,{value:t,children:C},t))})]}),s.type&&e.jsx("p",{className:"text-sm text-red-600",children:s.type})]}),!d&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"value",children:"Giá trị"}),l.type==="text"?e.jsx(p,{id:"value",value:l.value,onChange:t=>a("value",t.target.value),rows:5}):e.jsx(h,{id:"value",type:l.type==="number"?"number":"text",value:l.value,onChange:t=>a("value",t.target.value)}),s.value&&e.jsx("p",{className:"text-sm text-red-600",children:s.value})]}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{id:"logo",value:n.logo,onChange:t=>a("logo",t),title:"Logo",description:"Cập nhật logo cho website",error:s.logo,placeholder:"/assets/logo-placeholder.png",className:"w-24 h-24",previewClassName:"w-full h-32 object-contain"}),e.jsx(o,{id:"favicon",value:n.favicon,onChange:t=>a("favicon",t),title:"Favicon",description:"Cập nhật favicon cho website",error:s.favicon,helpText:"Nên sử dụng hình vuông, kích thước nhỏ",placeholder:"/assets/favicon-placeholder.png",className:"w-16 h-16",previewClassName:"w-16 h-16"}),e.jsx(o,{id:"thumbnail",value:n.thumbnail,onChange:t=>a("thumbnail",t),title:"Hình thu nhỏ",description:"Cập nhật hình thu nhỏ mặc định",error:s.thumbnail,placeholder:"/assets/thumbnail-placeholder.png",className:"w-24 h-24",previewClassName:"w-full h-32"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",children:"Mô tả"}),e.jsx(p,{id:"description",value:l.description,onChange:t=>a("description",t.target.value),placeholder:"Mô tả về cấu hình này",rows:3}),s.description&&e.jsx("p",{className:"text-sm text-red-600",children:s.description})]})]}),e.jsx(k,{className:"flex justify-end",children:e.jsx(m,{type:"submit",disabled:c,children:c?"Đang cập nhật...":"Cập nhật cấu hình"})})]})]})]})})]})}export{re as default};
