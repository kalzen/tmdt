import{r as c,j as e,L as w,$ as x}from"./app-CTkEoRiL.js";import{F as C,S as _}from"./frontend-layout-Btt2m4CU.js";import{B as h}from"./button-BLGf1c8p.js";import{C as $,d as B}from"./card-a5cDWnro.js";import{I as T}from"./input-B5m8uf1K.js";import{S as u,a as p,b as j,c as f,d as a}from"./select-G7BiBGkl.js";import{B as D,a as L,b as g,d as b,e as k}from"./breadcrumb-YwrhDQ7L.js";import{S as I}from"./star-BqTShUvn.js";import"./sonner-Bbdbmtlb.js";import"./index-y6gelImh.js";import"./index-DbrZLYjj.js";import"./index-OyUCkdvO.js";import"./chevron-down-BZl8zNuU.js";import"./user-CvH0fq8F.js";function K({stores:r,filters:o}){const[t,v]=c.useState(o.search||""),[n,N]=c.useState(o.sort_by||"created_at"),[d,y]=c.useState(o.sort_direction||"desc"),S=s=>{s.preventDefault(),window.location.href=`/stores?search=${t}`},i=()=>{const s=new URLSearchParams;t&&s.append("search",t),s.append("sort_by",n),s.append("sort_direction",d),window.location.href=`/stores?${s.toString()}`};return e.jsxs(C,{children:[e.jsx(w,{title:"Stores - TMDT Marketplace"}),e.jsxs("div",{className:"container px-4 py-8 mx-auto",children:[e.jsx(D,{className:"mb-6",children:e.jsxs(L,{children:[e.jsx(g,{children:e.jsx(b,{href:"/",children:"Home"})}),e.jsx(k,{}),e.jsx(g,{children:e.jsx(b,{children:"Stores"})})]})}),e.jsx("div",{className:"relative mb-12 rounded-lg overflow-hidden",children:e.jsx("div",{className:"h-64 bg-gradient-to-r from-primary to-primary/70",children:e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center p-8 text-white",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Explore Our Stores"}),e.jsx("p",{className:"max-w-xl text-white/90 mb-6",children:"Discover a wide range of stores offering quality products. From electronics to fashion, find everything you need from trusted sellers."})]})})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsx("form",{onSubmit:S,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(T,{type:"search",placeholder:"Search stores...",className:"pr-10",value:t,onChange:s=>v(s.target.value)}),e.jsxs(h,{type:"submit",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Search"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{value:n,onValueChange:s=>{N(s),setTimeout(i,100)},children:[e.jsx(p,{className:"w-[180px]",children:e.jsx(j,{placeholder:"Sort by"})}),e.jsxs(f,{children:[e.jsx(a,{value:"created_at",children:"Newest"}),e.jsx(a,{value:"name",children:"Name"}),e.jsx(a,{value:"products_count",children:"Product Count"})]})]}),e.jsxs(u,{value:d,onValueChange:s=>{y(s),setTimeout(i,100)},children:[e.jsx(p,{className:"w-[120px]",children:e.jsx(j,{placeholder:"Order"})}),e.jsxs(f,{children:[e.jsx(a,{value:"asc",children:"Ascending"}),e.jsx(a,{value:"desc",children:"Descending"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8",children:r.data.map(s=>e.jsxs($,{className:"group overflow-hidden",children:[e.jsxs("div",{className:"h-32 relative overflow-hidden",children:[e.jsx("img",{src:s.banner,alt:`${s.name} banner`,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute -bottom-8 left-4 w-16 h-16 rounded-full border-4 border-background overflow-hidden bg-background",children:e.jsx("img",{src:s.logo,alt:s.name,className:"w-full h-full object-cover"})})]}),e.jsxs(B,{className:"p-4 pt-10",children:[e.jsx(x,{href:`/stores/${s.id}`,className:"font-medium text-lg group-hover:text-primary transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center mt-1 mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[Array.from({length:5}).map((l,m)=>e.jsx(I,{className:`h-3 w-3 ${m<Math.floor(s.rating)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},m)),e.jsxs("span",{className:"ml-1 text-xs text-muted-foreground",children:["(",s.rating.toFixed(1),")"]})]}),e.jsx("span",{className:"mx-2 text-xs",children:"â€¢"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.productCount," products"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:s.description}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Joined ",s.joinDate]})]})]},s.id))}),r.meta.last_page>1&&e.jsx("div",{className:"flex justify-center",children:r.links.map((s,l)=>e.jsx(x,{href:s.url||"#",className:`px-4 py-2 text-sm border-t border-b ${l===0?"rounded-l-md border-l":""} ${l===r.links.length-1?"rounded-r-md border-r":""} ${s.active?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},l))}),r.data.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No stores found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search criteria"}),e.jsx(h,{onClick:()=>window.location.href="/stores",children:"Clear Search"})]})]})]})}export{K as default};
