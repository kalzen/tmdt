import{m as B,r as k,j as e,L as $,$ as P}from"./app-BtGE91pR.js";import{_ as a}from"./translate-BcvlAL58.js";import{A as U,D as R,a as O,b as z,c as A}from"./app-layout-CTGCn8wo.js";import{B as _}from"./button-DKLb_cAM.js";import{I as o}from"./input-CiV0XKd-.js";import{L as t}from"./label-D-2WubvP.js";import{T as v}from"./textarea-BtIXvInB.js";import{C as c,a as m,b as h,c as p,d as x}from"./card-CYxKPOTH.js";import{T as H,a as G,b as g,c as u}from"./tabs-DUwmFwHB.js";import{S}from"./switch-BRIichjn.js";import{I as w}from"./image-uploader-TmWLqa2Q.js";import{C as V}from"./checkbox-Cm9MGvrF.js";import{H as W}from"./heading-small-DTpMhSUQ.js";import{I as l}from"./input-error-BD6ojJeN.js";import"./sonner-ADRQgd_T.js";import"./index-DQkJsBT1.js";import"./index-DJJ0opRn.js";import"./index-DG753qKl.js";import"./index-DcQdqpwx.js";import"./index-Bw90D0kP.js";import"./app-logo-icon-E3-GpmeE.js";import"./list-CQBPjU6S.js";import"./store-oIZzt7RG.js";import"./breadcrumb-VnWDUXDp.js";import"./chevron-right-eQMH9edB.js";import"./index-B94CT-Ga.js";import"./PencilIcon-DHqNbmOM.js";function fe({store:i,users:f,catalogues:b,storeCatalogueIds:F}){var y;const{data:n,setData:r,post:E,processing:C,errors:d}=B({name:i.name||"",slug:i.slug||"",description:i.description||"",user_id:i.user_id?i.user_id.toString():"",is_active:i.is_active,is_featured:i.is_featured,address:i.address||"",city:i.city||"",state:i.state||"",postal_code:i.postal_code||"",country:i.country||"",phone:i.phone||"",email:i.email||"",meta_title:i.meta_title||"",meta_description:i.meta_description||"",logo:null,banner:null,catalogue_ids:[],tax_number:i.tax_number||"",bio:i.bio||"",_method:"PUT"}),[N,T]=k.useState(F||[]),M=[{title:a("admin.stores","Stores"),href:route("stores.index")},{title:i.name,href:route("stores.edit",i.id)}],D=s=>{s.preventDefault(),r("catalogue_ids",N),E(route("stores.update",i.id),{forceFormData:!0})},I=s=>{T(j=>j.includes(s)?j.filter(L=>L!==s):[...j,s])};return e.jsxs(U,{breadcrumbs:M,children:[e.jsx($,{title:`${a("admin.edit_store","Edit Store")}: ${i.name}`}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(W,{title:`${a("admin.edit_store","Edit Store")}: ${i.name}`,description:a("admin.edit_store_description","Update store information")})}),e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs(H,{defaultValue:"general",className:"w-full",children:[e.jsxs(G,{className:"mb-4",children:[e.jsx(g,{value:"general",children:a("admin.general","General")}),e.jsx(g,{value:"contact",children:a("admin.contact","Contact")}),e.jsx(g,{value:"media",children:a("admin.media","Media")}),e.jsx(g,{value:"categories",children:a("admin.categories","Categories")}),e.jsx(g,{value:"seo",children:a("admin.seo","SEO")})]}),e.jsx(u,{value:"general",children:e.jsxs(c,{children:[e.jsxs(m,{children:[e.jsx(h,{children:a("admin.general_information","General Information")}),e.jsx(p,{children:a("admin.general_information_description","Basic store information")})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(t,{htmlFor:"name",children:[a("admin.store_name","Store Name")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(o,{id:"name",value:n.name,onChange:s=>r("name",s.target.value),placeholder:a("admin.store_name_placeholder","Enter store name")}),e.jsx(l,{message:d.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"tax_number",children:a("admin.tax_number","Tax Number")}),e.jsx(o,{id:"tax_number",value:n.tax_number,onChange:s=>r("tax_number",s.target.value),placeholder:a("admin.tax_number_placeholder","Enter store tax number")}),e.jsx(l,{message:d.tax_number})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"slug",children:a("admin.slug","Slug")}),e.jsx(o,{id:"slug",value:n.slug,onChange:s=>r("slug",s.target.value),placeholder:a("admin.slug_placeholder","Enter store slug (auto-generated if empty)")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.slug_help","Used in URLs. Will be auto-generated from name if empty.")}),e.jsx(l,{message:d.slug})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"description",children:a("admin.description","Description")}),e.jsx(v,{id:"description",value:n.description,onChange:s=>r("description",s.target.value),placeholder:a("admin.description_placeholder","Enter store description"),rows:4}),e.jsx(l,{message:d.description})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"bio",children:a("admin.bio","Bio")}),e.jsx(v,{id:"bio",value:n.bio,onChange:s=>r("bio",s.target.value),placeholder:a("admin.bio_placeholder","Enter store owner bio or additional information"),rows:3}),e.jsx(l,{message:d.bio})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(t,{htmlFor:"user_id",children:[a("admin.store_owner","Store Owner")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(R,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(_,{variant:"outline",className:"w-full justify-between",children:[n.user_id?(y=f.find(s=>s.id.toString()===n.user_id))==null?void 0:y.name:a("admin.select_user","Select user"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsx(z,{className:"w-full max-h-[300px] overflow-auto",children:f.map(s=>e.jsx(A,{onClick:()=>r("user_id",s.id.toString()),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.email})]})},s.id))})]}),e.jsx(l,{message:d.user_id})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{id:"is_active",checked:n.is_active,onCheckedChange:s=>r("is_active",s)}),e.jsx(t,{htmlFor:"is_active",children:a("admin.is_active","Active")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{id:"is_featured",checked:n.is_featured,onCheckedChange:s=>r("is_featured",s)}),e.jsx(t,{htmlFor:"is_featured",children:a("admin.is_featured","Featured Store")})]})]})]})}),e.jsx(u,{value:"contact",children:e.jsxs(c,{children:[e.jsxs(m,{children:[e.jsx(h,{children:a("admin.contact_information","Contact Information")}),e.jsx(p,{children:a("admin.contact_information_description","Store contact and address details")})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"address",children:a("admin.address","Address")}),e.jsx(o,{id:"address",value:n.address,onChange:s=>r("address",s.target.value),placeholder:a("admin.address_placeholder","Street address")}),e.jsx(l,{message:d.address})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"city",children:a("admin.city","City")}),e.jsx(o,{id:"city",value:n.city,onChange:s=>r("city",s.target.value),placeholder:a("admin.city_placeholder","City")}),e.jsx(l,{message:d.city})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"state",children:a("admin.state","State/Province")}),e.jsx(o,{id:"state",value:n.state,onChange:s=>r("state",s.target.value),placeholder:a("admin.state_placeholder","State/Province")}),e.jsx(l,{message:d.state})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"postal_code",children:a("admin.postal_code","Postal Code")}),e.jsx(o,{id:"postal_code",value:n.postal_code,onChange:s=>r("postal_code",s.target.value),placeholder:a("admin.postal_code_placeholder","Postal Code")}),e.jsx(l,{message:d.postal_code})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"country",children:a("admin.country","Country")}),e.jsx(o,{id:"country",value:n.country,onChange:s=>r("country",s.target.value),placeholder:a("admin.country_placeholder","Country")}),e.jsx(l,{message:d.country})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"phone",children:a("admin.phone","Phone")}),e.jsx(o,{id:"phone",value:n.phone,onChange:s=>r("phone",s.target.value),placeholder:a("admin.phone_placeholder","Phone number")}),e.jsx(l,{message:d.phone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"email",children:a("admin.email","Email")}),e.jsx(o,{id:"email",type:"email",value:n.email,onChange:s=>r("email",s.target.value),placeholder:a("admin.email_placeholder","Email address")}),e.jsx(l,{message:d.email})]})]})]})]})}),e.jsx(u,{value:"media",children:e.jsxs(c,{children:[e.jsxs(m,{children:[e.jsx(h,{children:a("admin.store_media","Store Media")}),e.jsx(p,{children:a("admin.store_media_description","Store logo and banner images")})]}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsx(t,{children:a("admin.logo","Store Logo")}),e.jsx(w,{id:"logo",onChange:s=>r("logo",s),value:i.logo,title:a("admin.logo_image","Logo Image"),description:a("admin.logo_description","Upload a logo for this store"),error:d.logo,helpText:a("admin.logo_help_text","Recommended size: 400x400px, Max 2MB"),placeholder:"/assets/placeholders/logo.png",className:"w-full h-40",previewClassName:"w-full h-40 object-contain"})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(t,{children:a("admin.banner","Store Banner")}),e.jsx(w,{id:"banner",onChange:s=>r("banner",s),value:i.banner,title:a("admin.banner_image","Banner Image"),description:a("admin.banner_description","Upload a banner for this store"),error:d.banner,helpText:a("admin.banner_help_text","Recommended size: 1200x300px, Max 2MB"),placeholder:"/assets/placeholders/banner.png",className:"w-full h-40",previewClassName:"w-full h-40 object-cover"})]})]})]})}),e.jsx(u,{value:"categories",children:e.jsxs(c,{children:[e.jsxs(m,{children:[e.jsx(h,{children:a("admin.store_categories","Store Categories")}),e.jsx(p,{children:a("admin.store_categories_description","Select categories this store can sell products in")})]}),e.jsxs(x,{children:[b.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-4",children:a("admin.no_categories_available","No categories available.")}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:b.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{id:`catalogue-${s.id}`,checked:N.includes(s.id),onCheckedChange:()=>I(s.id)}),e.jsx(t,{htmlFor:`catalogue-${s.id}`,className:"cursor-pointer",children:s.name})]},s.id))}),e.jsx(l,{message:d.catalogue_ids,className:"mt-2"})]})]})}),e.jsx(u,{value:"seo",children:e.jsxs(c,{children:[e.jsxs(m,{children:[e.jsx(h,{children:a("admin.seo_information","SEO Information")}),e.jsx(p,{children:a("admin.seo_information_description","Search engine optimization details")})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"meta_title",children:a("admin.meta_title","Meta Title")}),e.jsx(o,{id:"meta_title",value:n.meta_title,onChange:s=>r("meta_title",s.target.value),placeholder:a("admin.meta_title_placeholder","SEO meta title")}),e.jsx(l,{message:d.meta_title})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"meta_description",children:a("admin.meta_description","Meta Description")}),e.jsx(v,{id:"meta_description",value:n.meta_description,onChange:s=>r("meta_description",s.target.value),placeholder:a("admin.meta_description_placeholder","SEO meta description"),rows:3}),e.jsx(l,{message:d.meta_description})]})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(_,{type:"submit",disabled:C,children:C?a("admin.saving","Saving..."):a("admin.save_store","Save Store")}),e.jsx(P,{href:route("stores.index"),children:e.jsx(_,{variant:"outline",type:"button",children:a("admin.cancel","Cancel")})})]})]})]})]})}export{fe as default};
