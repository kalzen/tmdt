import{r as t,j as e}from"./app-DoLmbgn3.js";import{C as A,a as I,b as T,c as U,d as B}from"./card-Bzby-J4J.js";import{B as C,a as P}from"./button-BuKHbg0-.js";import{L as z}from"./label-DGJ7O9Jm.js";import{F as H}from"./PencilIcon-BArzRYoe.js";function O({title:o,titleId:l,...c},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},c),o?t.createElement("title",{id:l},o):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const S=t.forwardRef(O);function K({id:o="image-upload",value:l,onChange:c,onRemove:i,title:x="Upload Image",description:v,error:d,helpText:g,placeholder:y="Click to upload",className:N="w-full h-32",previewClassName:D="w-full h-32 object-cover",required:k=!1,disabled:a=!1,hideLabel:L=!1}){const[j,f]=t.useState(l||null),[b,u]=t.useState(!1),m=t.useRef(null),F=r=>{var n;const s=(n=r.target.files)==null?void 0:n[0];if(s){const h=new FileReader;h.onload=()=>{f(h.result)},h.readAsDataURL(s),c(s)}},p=r=>{r.preventDefault(),r.stopPropagation(),r.type==="dragenter"||r.type==="dragover"?u(!0):r.type==="dragleave"&&u(!1)},R=r=>{if(r.preventDefault(),r.stopPropagation(),u(!1),r.dataTransfer.files&&r.dataTransfer.files[0]){const s=r.dataTransfer.files[0],n=new FileReader;n.onload=()=>{f(n.result)},n.readAsDataURL(s),c(s)}},E=()=>{f(null),m.current&&(m.current.value=""),c(null),i==null||i()},w=()=>{var r;(r=m.current)==null||r.click()};return e.jsxs(A,{className:"overflow-hidden",children:[e.jsx(I,{children:!L&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[x,k&&e.jsx("span",{className:"text-destructive",children:"*"})]}),v&&e.jsx(U,{children:v})]})}),e.jsxs(B,{children:[e.jsx("input",{id:o,ref:m,type:"file",accept:"image/*",onChange:F,className:"hidden",disabled:a}),j?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:j||l||"",alt:x,className:D||"w-full h-auto object-contain"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black/50",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{size:"sm",onClick:w,disabled:a,variant:"secondary",children:[e.jsx(H,{className:"w-4 h-4 mr-1"}),"Change"]}),e.jsxs(C,{size:"sm",onClick:E,disabled:a,variant:"destructive",children:[e.jsx(S,{className:"w-4 h-4 mr-1"}),"Remove"]})]})})]}):e.jsx("div",{onClick:a?void 0:w,onDragEnter:a?void 0:p,onDragLeave:a?void 0:p,onDragOver:a?void 0:p,onDrop:a?void 0:R,className:P("border-2 border-dashed rounded-md flex flex-col items-center justify-center cursor-pointer",b?"border-primary":"border-muted-foreground/25",a?"opacity-50 cursor-not-allowed":"hover:border-muted-foreground/50",d?"border-destructive":"",N),children:e.jsx(z,{htmlFor:o,className:"text-muted-foreground cursor-pointer text-center",children:y})}),d&&e.jsx("p",{className:"text-destructive text-sm mt-2",children:d}),g&&!d&&e.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:g})]})]})}export{K as I};
