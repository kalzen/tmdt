import{m as O,r as M,j as e,L as H,$ as z}from"./app-BmKbL8Jn.js";import{_ as i}from"./translate-gI4BC6X-.js";import{A as K}from"./app-layout-Dqi2hUez.js";import{B as S}from"./button-BIak8uwc.js";import{I as m}from"./input-Br1hcY4K.js";import{L as d}from"./label-Bt4T-qV0.js";import{T as C}from"./textarea-EtopuXsg.js";import{C as u,a as x,b as g,c as j,d as _}from"./card-BNitNuK7.js";import{T as W,a as Q,b as v,c as f}from"./tabs-DXKvNYo0.js";import{S as T}from"./switch-DDmcLV-X.js";import{S as J,a as X,b as Y,c as Z,d as ee}from"./select-EoNNM9p0.js";import{I as se}from"./image-uploader-BgONa_u6.js";import{C as $}from"./checkbox-CQHwQSwM.js";import{R as ie,a as ae}from"./radio-group-CKhsLeYC.js";import{H as te}from"./heading-small-D7y1GvmY.js";import{I as n}from"./input-error-D9T84wjt.js";import{D as re,a as de,b as le,c as I}from"./sonner-CrCPklHr.js";import"./index-BgUO5pnB.js";import"./index-BC8y7YVM.js";import"./index-BJzPfRLd.js";import"./app-logo-icon-D2O12iQB.js";import"./list-DkH1bP6-.js";import"./store-CNQmX5q0.js";import"./breadcrumb-DMKth552.js";import"./chevron-right-CMxIAWNw.js";import"./index-BlIenqYZ.js";import"./index-BgoRfv8I.js";import"./chevron-down-BSk8qzUo.js";import"./PencilIcon-BzD0w6PE.js";function Ae({catalogues:E,stores:N,attributes:b,defaultStoreId:k}){var D;const{data:t,setData:r,post:A,processing:F,errors:l,reset:B}=O({title:"",sku:"",description:"",content:"",price:"",sale_price:"",stock_quantity:"0",catalogue_id:"",catalogue_ids:[],store_id:k?k.toString():"",is_active:!0,is_featured:!1,meta_title:"",meta_description:"",thumbnail:null,gallery:[],attributes:{}}),[L,y]=M.useState([]),[P,R]=M.useState(""),q=[{title:i("admin.products","Products"),href:route("products.index")},{title:i("admin.create_product","Create Product"),href:route("products.create")}],G=s=>{s.preventDefault(),P&&r("content",P),A(route("products.store"),{forceFormData:!0,onSuccess:()=>{B(),y([]),R("")}})},U=s=>{y(s),r("gallery",s)},p=(s,a)=>{r("attributes",{...t.attributes,[s]:a})};return e.jsxs(K,{breadcrumbs:q,children:[e.jsx(H,{title:i("admin.create_product","Create Product")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(te,{title:i("admin.create_product","Create Product"),description:i("admin.create_product_description","Add a new product to your store")})}),e.jsxs("form",{onSubmit:G,className:"space-y-6",children:[e.jsxs(W,{defaultValue:"general",className:"w-full",children:[e.jsxs(Q,{className:"mb-4",children:[e.jsx(v,{value:"general",children:i("admin.general","General")}),e.jsx(v,{value:"data",children:i("admin.data","Data")}),e.jsx(v,{value:"media",children:i("admin.media","Media")}),e.jsx(v,{value:"attributes",children:i("admin.attributes","Attributes")}),e.jsx(v,{value:"seo",children:i("admin.seo","SEO")})]}),e.jsx(f,{value:"general",children:e.jsxs(u,{children:[e.jsxs(x,{children:[e.jsx(g,{children:i("admin.general_information","General Information")}),e.jsx(j,{children:i("admin.general_information_description","Basic product information")})]}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(d,{htmlFor:"title",children:[i("admin.product_title","Product Title")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(m,{id:"title",value:t.title,onChange:s=>r("title",s.target.value),placeholder:i("admin.product_title_placeholder","Enter product title")}),e.jsx(n,{message:l.title})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"sku",children:i("admin.sku","SKU")}),e.jsx(m,{id:"sku",value:t.sku,onChange:s=>r("sku",s.target.value),placeholder:i("admin.sku_placeholder","Product Stock Keeping Unit")}),e.jsx(n,{message:l.sku})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"description",children:i("admin.short_description","Short Description")}),e.jsx(C,{id:"description",value:t.description,onChange:s=>r("description",s.target.value),placeholder:i("admin.short_description_placeholder","Brief description for product listings"),rows:3}),e.jsx(n,{message:l.description})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"content",children:i("admin.full_description","Full Description")}),e.jsx(C,{id:"content",value:t.content,onChange:s=>r("content",s.target.value),placeholder:i("admin.full_description_placeholder","Detailed product description"),rows:6}),e.jsx(n,{message:l.content})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(d,{htmlFor:"catalogue_id",children:[i("admin.catalogue","Catalogue")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx("div",{className:"border rounded-md p-4 max-h-[300px] overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:E.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{id:`catalogue-${s.id}`,checked:t.catalogue_ids.includes(s.id.toString()),onCheckedChange:a=>{const o=!!a;let c=[...t.catalogue_ids];o?(c.push(s.id.toString()),t.catalogue_id===""&&r("catalogue_id",s.id.toString())):(c=c.filter(w=>w!==s.id.toString()),t.catalogue_id===s.id.toString()&&c.length>0?r("catalogue_id",c[0]):c.length===0&&r("catalogue_id","")),r("catalogue_ids",c)}}),e.jsx(d,{htmlFor:`catalogue-${s.id}`,children:s.name})]},s.id))})}),e.jsx("div",{className:"text-sm text-muted-foreground",children:i("admin.select_multiple_catalogues","Select one or more catalogues for this product")}),e.jsx(n,{message:l.catalogue_ids||l.catalogue_id})]}),N.length>0&&e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"store_id",children:i("admin.store","Store")}),e.jsxs(re,{children:[e.jsx(de,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"w-full justify-between",children:[t.store_id?(D=N.find(s=>s.id.toString()===t.store_id))==null?void 0:D.name:i("admin.select_store","Select store"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsxs(le,{align:"center",className:"w-[300px]",children:[N.length>1&&e.jsx(I,{onClick:()=>r("store_id",""),children:i("admin.none","None")}),N.map(s=>e.jsx(I,{onClick:()=>r("store_id",s.id.toString()),children:s.name},s.id))]})]}),e.jsx(n,{message:l.store_id})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{id:"is_active",checked:t.is_active,onCheckedChange:s=>r("is_active",s)}),e.jsx(d,{htmlFor:"is_active",children:i("admin.is_active","Active")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{id:"is_featured",checked:t.is_featured,onCheckedChange:s=>r("is_featured",s)}),e.jsx(d,{htmlFor:"is_featured",children:i("admin.is_featured","Featured Product")})]})]})]})}),e.jsx(f,{value:"data",children:e.jsxs(u,{children:[e.jsxs(x,{children:[e.jsx(g,{children:i("admin.product_data","Product Data")}),e.jsx(j,{children:i("admin.product_data_description","Price and inventory information")})]}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(d,{htmlFor:"price",children:[i("admin.price","Price")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(m,{id:"price",type:"number",min:"0",step:"0.01",value:t.price,onChange:s=>r("price",s.target.value),placeholder:"0.00"}),e.jsx(n,{message:l.price})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"sale_price",children:i("admin.sale_price","Sale Price")}),e.jsx(m,{id:"sale_price",type:"number",min:"0",step:"0.01",value:t.sale_price,onChange:s=>r("sale_price",s.target.value),placeholder:"0.00"}),e.jsx(n,{message:l.sale_price})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(d,{htmlFor:"stock_quantity",children:[i("admin.stock_quantity","Stock Quantity")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(m,{id:"stock_quantity",type:"number",min:"0",step:"1",value:t.stock_quantity,onChange:s=>r("stock_quantity",s.target.value),placeholder:"0"}),e.jsx(n,{message:l.stock_quantity})]})]})]})}),e.jsx(f,{value:"media",children:e.jsxs(u,{children:[e.jsxs(x,{children:[e.jsx(g,{children:i("admin.product_media","Product Media")}),e.jsx(j,{children:i("admin.product_media_description","Product images and gallery")})]}),e.jsxs(_,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsx(d,{children:i("admin.thumbnail","Thumbnail Image")}),e.jsx(se,{id:"thumbnail",onChange:s=>r("thumbnail",s),title:i("admin.thumbnail_image","Thumbnail Image"),description:i("admin.thumbnail_description","Main product image"),error:l.thumbnail,helpText:i("admin.image_help_text","Recommended size: 800x800px, Max 2MB"),placeholder:"/assets/placeholders/product.png",className:"w-full h-60",previewClassName:"w-full h-60 object-contain"})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(d,{children:i("admin.gallery","Product Gallery")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border-2 border-dashed rounded-md p-6 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50",children:[e.jsx("input",{type:"file",id:"gallery",multiple:!0,className:"hidden",accept:"image/*",onChange:s=>{s.target.files&&U(Array.from(s.target.files))}}),e.jsx(d,{htmlFor:"gallery",className:"cursor-pointer text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx("svg",{className:"w-6 h-6 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),e.jsx("span",{className:"text-sm font-medium",children:i("admin.add_images","Add Images")}),e.jsx("span",{className:"text-xs text-muted-foreground",children:i("admin.up_to_5_images","Up to 5 images, max 2MB each")})]})})]}),L.map((s,a)=>e.jsxs("div",{className:"relative border rounded-md overflow-hidden",children:[e.jsx("img",{src:URL.createObjectURL(s),alt:`Gallery image ${a+1}`,className:"w-full h-32 object-cover"}),e.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-destructive text-white p-1 rounded-full",onClick:()=>{const o=[...L];o.splice(a,1),y(o),r("gallery",o)},children:e.jsx("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},a))]}),e.jsx(n,{message:l.gallery})]})]})]})}),e.jsx(f,{value:"attributes",children:e.jsxs(u,{children:[e.jsxs(x,{children:[e.jsx(g,{children:i("admin.product_attributes","Product Attributes")}),e.jsx(j,{children:i("admin.product_attributes_description","Define product specifications and features")})]}),e.jsx(_,{children:e.jsx("div",{className:"space-y-6",children:b.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-4",children:i("admin.no_attributes_defined","No attributes have been defined yet.")}):b.map(s=>e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("h3",{className:"font-medium mb-2",children:[s.name,s.is_required&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.type==="text"&&e.jsx(m,{placeholder:`Enter ${s.name.toLowerCase()}`,value:t.attributes[s.id]||"",onChange:a=>p(s.id,a.target.value)}),s.type==="textarea"&&e.jsx(C,{placeholder:`Enter ${s.name.toLowerCase()}`,value:t.attributes[s.id]||"",onChange:a=>p(s.id,a.target.value),rows:3}),s.type==="select"&&e.jsxs(J,{value:t.attributes[s.id]||"",onValueChange:a=>p(s.id,a),children:[e.jsx(X,{children:e.jsx(Y,{placeholder:`Select ${s.name.toLowerCase()}`})}),e.jsx(Z,{children:s.values.map(a=>e.jsx(ee,{value:a.id.toString(),children:a.value},a.id))})]}),s.type==="multiselect"&&e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.values.map(a=>{const o=t.attributes[s.id]||[],c=o.includes(a.id.toString());return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{id:`attr-${s.id}-${a.id}`,checked:c,onCheckedChange:w=>{let h=[...o];w?h.includes(a.id.toString())||h.push(a.id.toString()):h=h.filter(V=>V!==a.id.toString()),p(s.id,h)}}),e.jsx(d,{htmlFor:`attr-${s.id}-${a.id}`,children:a.value})]},a.id)})}),s.type==="radio"&&e.jsx(ie,{value:t.attributes[s.id]||"",onValueChange:a=>p(s.id,a),children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.values.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{value:a.id.toString(),id:`attr-${s.id}-${a.id}`}),e.jsx(d,{htmlFor:`attr-${s.id}-${a.id}`,children:a.value})]},a.id))})})]},s.id))})})]})}),e.jsx(f,{value:"seo",children:e.jsxs(u,{children:[e.jsxs(x,{children:[e.jsx(g,{children:i("admin.seo_information","SEO Information")}),e.jsx(j,{children:i("admin.seo_information_description","Search engine optimization details")})]}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"meta_title",children:i("admin.meta_title","Meta Title")}),e.jsx(m,{id:"meta_title",value:t.meta_title,onChange:s=>r("meta_title",s.target.value),placeholder:i("admin.meta_title_placeholder","SEO meta title")}),e.jsx(n,{message:l.meta_title})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"meta_description",children:i("admin.meta_description","Meta Description")}),e.jsx(C,{id:"meta_description",value:t.meta_description,onChange:s=>r("meta_description",s.target.value),placeholder:i("admin.meta_description_placeholder","SEO meta description"),rows:3}),e.jsx(n,{message:l.meta_description})]})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{type:"submit",disabled:F,children:F?i("admin.saving","Saving..."):i("admin.save_product","Save Product")}),e.jsx(z,{href:route("products.index"),children:e.jsx(S,{variant:"outline",type:"button",children:i("admin.cancel","Cancel")})})]})]})]})]})}export{Ae as default};
