import{r as j,j as e,L as A,$ as m,S as l}from"./app-BL6gC8tN.js";import{A as D,D as f,a as v,b as g,c as i}from"./app-layout-DjFlTuBC.js";import{H as I}from"./heading-small-C5MFzcRD.js";import{B as c}from"./button-Lid8MuPL.js";import{I as E}from"./input-xqvF5ANR.js";import{T as B,a as M,b as h,c as d,d as k,e as n}from"./table-D_O-8SLX.js";import{B as N}from"./badge-BLjho6PC.js";import{P as z}from"./pagination-BKL4k94Z.js";import{_ as a}from"./translate-Ha_m2cvH.js";import{C as H}from"./circle-plus-Dc8gZiL1.js";import{C as L}from"./circle-x-BEfMcskY.js";import{E as R}from"./ellipsis-Czg6ZzBm.js";import{E as $}from"./eye-BalKfFUi.js";import{P as F}from"./pencil-DEIqI8vb.js";import{T as O}from"./trash-2-BYNHuy7a.js";import"./sonner-DZm2GQKb.js";import"./index-DdUMI-uV.js";import"./index-BL1mTc5u.js";import"./index-Cq2fEnw1.js";import"./app-logo-icon-mrasiCiq.js";import"./list-C6slarTx.js";import"./store-C07a7YMu.js";import"./breadcrumb-DnA5jBEN.js";import"./chevron-left-BJF4I2EY.js";function xe({stores:r,filters:t}){const[x,w]=j.useState(t.search||""),[u,C]=j.useState(t.status||""),S=[{title:a("admin.stores","Stores"),href:route("stores.index")}],_=s=>{s.preventDefault(),p({search:x})},o=s=>{C(s),p({status:s})},p=s=>{l.get(route("stores.index"),{...t,...s,page:1},{preserveState:!0,replace:!0})},b=s=>{l.get(route("stores.index"),{...t,page:s},{preserveState:!0})},y=s=>{l.get(route("stores.index"),{...t,per_page:s},{preserveState:!0})},P=(s,T)=>{confirm(`Are you sure you want to delete the store "${T}"?`)&&l.delete(route("stores.destroy",s))};return e.jsxs(D,{breadcrumbs:S,children:[e.jsx(A,{title:a("admin.stores","Stores")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{title:a("admin.stores","Stores"),description:a("admin.stores_description","Manage stores and their owners")}),e.jsx(m,{href:route("stores.create"),children:e.jsxs(c,{children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),a("admin.create_store","Create Store")]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center pb-4 border-b",children:[e.jsx("form",{onSubmit:_,className:"flex-1 min-w-[240px]",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(E,{type:"search",placeholder:a("admin.search_stores","Search stores..."),className:"pl-4 pr-12",value:x,onChange:s=>w(s.target.value)}),e.jsx(c,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:a("admin.search","Search")})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(f,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"min-w-[150px] justify-between",children:[u==="active"?a("admin.active","Active"):u==="inactive"?a("admin.inactive","Inactive"):a("admin.all_statuses","All statuses"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsxs(g,{align:"start",className:"w-[150px]",children:[e.jsx(i,{onClick:()=>o(""),children:a("admin.all_statuses","All statuses")}),e.jsx(i,{onClick:()=>o("active"),children:a("admin.active","Active")}),e.jsx(i,{onClick:()=>o("inactive"),children:a("admin.inactive","Inactive")})]})]}),(t.search||t.status)&&e.jsx(c,{variant:"outline",size:"icon",onClick:()=>l.get(route("stores.index"),{}),title:a("admin.clear_filters","Clear filters"),children:e.jsx(L,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(B,{children:[e.jsx(M,{children:e.jsxs(h,{children:[e.jsx(d,{children:a("admin.store","Store")}),e.jsx(d,{children:a("admin.owner","Owner")}),e.jsx(d,{className:"text-center",children:a("admin.products","Products")}),e.jsx(d,{className:"text-center",children:a("admin.status","Status")}),e.jsx(d,{className:"text-right",children:a("admin.actions","Actions")})]})}),e.jsx(k,{children:r.data.length===0?e.jsx(h,{children:e.jsx(n,{colSpan:5,className:"text-center text-muted-foreground py-8",children:t.search||t.status?a("admin.no_stores_found_with_filters","No stores match your filters."):a("admin.no_stores_found","No stores found. Create your first store.")})}):r.data.map(s=>e.jsxs(h,{children:[e.jsx(n,{className:"font-medium",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:s.name}),s.is_featured&&e.jsx(N,{variant:"secondary",className:"w-fit mt-1",children:a("admin.featured","Featured")})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.user.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.user.email})]})}),e.jsx(n,{className:"text-center",children:s.products_count}),e.jsx(n,{className:"text-center",children:e.jsx(N,{variant:s.is_active?"success":"outline",children:s.is_active?a("admin.active","Active"):a("admin.inactive","Inactive")})}),e.jsx(n,{className:"text-right",children:e.jsxs(f,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"ghost",size:"icon",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(g,{align:"end",children:[e.jsx(i,{asChild:!0,children:e.jsxs(m,{href:route("stores.show",s.id),children:[e.jsx($,{className:"h-4 w-4 mr-2"})," ",a("admin.view","View")]})}),e.jsx(i,{asChild:!0,children:e.jsxs(m,{href:route("stores.edit",s.id),children:[e.jsx(F,{className:"h-4 w-4 mr-2"})," ",a("admin.edit","Edit")]})}),e.jsxs(i,{onClick:()=>P(s.id,s.name),className:"text-destructive focus:text-destructive",children:[e.jsx(O,{className:"h-4 w-4 mr-2"})," ",a("admin.delete","Delete")]})]})]})})]},s.id))})]})}),r.meta&&r.meta.total>0&&e.jsx("div",{className:"mt-4 border-t pt-4",children:e.jsx(z,{currentPage:r.meta.current_page,lastPage:r.meta.last_page,perPage:parseInt(t.per_page||"10"),total:r.meta.total,from:r.meta.from||0,to:r.meta.to||0,onPageChange:b,onPerPageChange:y})})]})]})}export{xe as default};
