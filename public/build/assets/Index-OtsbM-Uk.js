import{r as N,j as e,L as C,$ as m,S as i}from"./app-B-84GseX.js";import{H as b}from"./heading-small-fuH_0C23.js";import{A as y,D as P,a as S,b as _,c as h}from"./app-layout-DtGowkgQ.js";import{B as c}from"./app-logo-icon-DR8hw6aZ.js";import{I as w}from"./input-Cre6IN-k.js";import{P as T}from"./pagination-Cobvq3Ig.js";import{T as D,a as I,b as l,c as o,d as A,e as n}from"./table-Dl1mLuaT.js";import{B}from"./badge-luecMNZk.js";import{_ as r}from"./translate-LEhgYJiH.js";import{E}from"./ellipsis-D3NLvM7m.js";import{P as M}from"./pencil-BOAeLuaA.js";import{T as H}from"./trash-2-CJv07cBr.js";import"./index-BeMZBMLQ.js";import"./index-vnsyDsqF.js";import"./select-U5iU8k38.js";import"./index-BBt4VV9G.js";import"./chevron-down-C4kc6uCx.js";import"./chevron-left-Ccu_SHCc.js";function ee({catalogues:s,filters:t}){const[d,u]=N.useState(t.search||""),x=[{title:r("admin.catalogues","Catalogues"),href:route("catalogues.index")}],p=a=>{a.preventDefault(),i.get(route("catalogues.index"),{search:d},{preserveState:!0})},g=a=>{i.get(route("catalogues.index"),{...t,page:a},{preserveState:!0})},j=a=>{i.get(route("catalogues.index"),{...t,per_page:a},{preserveState:!0})},f=a=>{confirm("Are you sure you want to delete this catalogue?")&&i.delete(route("catalogues.destroy",a))},v=a=>a===0?"":"—".repeat(a)+" ";return e.jsxs(y,{breadcrumbs:x,children:[e.jsx(C,{title:r("admin.catalogues","Catalogues")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{title:r("admin.catalogues","Catalogues"),description:r("admin.catalogues_description","Manage your store categories and subcategories")}),e.jsx(m,{href:route("catalogues.create"),children:e.jsx(c,{children:r("admin.create_catalogue","Create Catalogue")})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("form",{onSubmit:p,className:"flex-1 max-w-sm",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(w,{type:"search",placeholder:r("admin.search_catalogues","Search catalogues..."),className:"pl-4 pr-12",value:d,onChange:a=>u(a.target.value)}),e.jsx(c,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:r("admin.search","Search")})]})}),t.search&&e.jsx(c,{variant:"ghost",onClick:()=>i.get(route("catalogues.index"),{}),children:r("admin.clear_filters","Clear filters")})]}),e.jsx("div",{className:"border rounded-md",children:e.jsxs(D,{children:[e.jsx(I,{children:e.jsxs(l,{children:[e.jsx(o,{className:"w-[40%]",children:"Name"}),e.jsx(o,{children:"Parent"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Products"}),e.jsx(o,{className:"text-right",children:"Actions"})]})}),e.jsx(A,{children:s.data.length===0?e.jsx(l,{children:e.jsx(n,{colSpan:5,className:"text-center text-muted-foreground py-8",children:t.search?`No catalogues found matching "${t.search}"`:"No catalogues found. Add your first catalogue."})}):s.data.map(a=>e.jsxs(l,{children:[e.jsxs(n,{className:"font-medium",children:[v(a.level)," ",a.name]}),e.jsx(n,{children:a.parent?a.parent.name:"—"}),e.jsx(n,{children:e.jsx(B,{variant:a.is_active?"success":"outline",children:a.is_active?"Active":"Inactive"})}),e.jsx(n,{children:a.products_count}),e.jsx(n,{className:"text-right",children:e.jsxs(P,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(c,{variant:"ghost",size:"icon",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(_,{align:"end",children:[e.jsx(h,{asChild:!0,children:e.jsxs(m,{href:route("catalogues.edit",a.id),children:[e.jsx(M,{className:"h-4 w-4 mr-2"})," Edit"]})}),e.jsxs(h,{onClick:()=>f(a.id),children:[e.jsx(H,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]},a.id))})]})}),s.meta&&s.meta.total>0&&e.jsx("div",{className:"mt-4 border-t pt-4",children:e.jsx(T,{currentPage:s.meta.current_page,lastPage:s.meta.last_page,perPage:parseInt(t.per_page||"10"),total:s.meta.total,from:s.meta.from||0,to:s.meta.to||0,onPageChange:g,onPerPageChange:j})})]})]})}export{ee as default};
