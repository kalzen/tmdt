import{r as n,j as e,L as F,$ as t}from"./app-DoLmbgn3.js";import{F as B,S as R}from"./frontend-layout-1pgCMg3d.js";import{B as o}from"./button-BuKHbg0-.js";import{C as O,d as T}from"./card-Bzby-J4J.js";import{P as I}from"./pagination-D-wmQ5RE.js";import{I as k}from"./input-IeKPRO8x.js";import{L as D}from"./label-DGJ7O9Jm.js";import{a as U,S as V}from"./slider-2jUKKZ8B.js";import{S as g,a as N,b as f,c as b,d}from"./select-CxyZQy96.js";import{S as A,x as z,i as H,X as m}from"./sonner-sPSZtJQC.js";import{B as M,a as q,b as v,d as S,e as E}from"./breadcrumb-64qyQnpe.js";import"./index-C2Wllq5a.js";import"./index-COBOBu7u.js";import"./index-Hl1rHJTl.js";import"./chevron-down-4ijDIBfc.js";import"./user-CS3P77zs.js";import"./chevron-left-DRT5MB9W.js";import"./ellipsis-CU2D4QbG.js";function de({products:l,filters:r}){const[y,h]=n.useState(!1),[x,w]=n.useState(r.search||""),[i,_]=n.useState([r.min_price||0,r.max_price||1e3]),[p,$]=n.useState(r.sort_by||"created_at"),[j,C]=n.useState(r.sort_direction||"desc"),P=s=>{s.preventDefault(),window.location.href=`/products?search=${x}`},L=()=>{const s={};x&&(s.search=x),s.min_price=i[0].toString(),s.max_price=i[1].toString(),s.sort_by=p,s.sort_direction=j,r.category&&(s.category=r.category),r.store&&(s.store=r.store);const a=new URLSearchParams(s);window.location.href=`/products?${a.toString()}`},u=()=>{window.location.href="/products"};return e.jsxs(B,{children:[e.jsx(F,{title:"Products - TMDT Marketplace"}),e.jsxs("div",{className:"container px-4 py-8 mx-auto",children:[e.jsx(M,{className:"mb-6",children:e.jsxs(q,{children:[e.jsx(v,{children:e.jsx(S,{href:"/",children:"Home"})}),e.jsx(E,{}),e.jsx(v,{children:e.jsx(S,{children:"Products"})})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsx("form",{onSubmit:P,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{type:"search",placeholder:"Search products...",className:"pr-10",value:x,onChange:s=>w(s.target.value)}),e.jsxs(o,{type:"submit",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Search"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{value:p,onValueChange:$,children:[e.jsx(N,{className:"w-[180px]",children:e.jsx(f,{placeholder:"Sort by"})}),e.jsxs(b,{children:[e.jsx(d,{value:"created_at",children:"Newest"}),e.jsx(d,{value:"price",children:"Price"}),e.jsx(d,{value:"name",children:"Name"})]})]}),e.jsxs(g,{value:j,onValueChange:C,children:[e.jsx(N,{className:"w-[120px]",children:e.jsx(f,{placeholder:"Order"})}),e.jsxs(b,{children:[e.jsx(d,{value:"asc",children:"Ascending"}),e.jsx(d,{value:"desc",children:"Descending"})]})]}),e.jsxs(A,{open:y,onOpenChange:h,children:[e.jsx(z,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Filters"]})}),e.jsx(H,{side:"right",className:"w-[300px] sm:w-[400px]",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Filters"}),e.jsxs(o,{variant:"ghost",size:"sm",onClick:u,children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),e.jsx("div",{className:"space-y-6 flex-1 overflow-y-auto",children:e.jsxs("div",{children:[e.jsx(D,{className:"mb-2 block",children:"Price Range"}),e.jsx("div",{className:"px-2",children:e.jsx(V,{defaultValue:i,max:1e3,step:10,onValueChange:s=>_(s)})}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm",children:["$",i[0]]}),e.jsxs("span",{className:"text-sm",children:["$",i[1]]})]})]})}),e.jsx("div",{className:"pt-4 border-t mt-auto",children:e.jsx(o,{className:"w-full",onClick:()=>{L(),h(!1)},children:"Apply Filters"})})]})})]})]})]}),(r.search||r.min_price||r.max_price||r.category||r.store)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[r.search&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Search: ",r.search]}),e.jsx(t,{href:`/products?${new URLSearchParams(Object.entries({...r}).filter(([s])=>s!=="search").reduce((s,[a,c])=>({...s,[a]:c}),{})).toString()}`,children:e.jsx(m,{className:"h-3 w-3"})})]}),(r.min_price||r.max_price)&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Price: $",r.min_price||0," - $",r.max_price||1e3]}),e.jsx(t,{href:`/products?${new URLSearchParams(Object.entries({...r}).filter(([s])=>s!=="min_price"&&s!=="max_price").reduce((s,[a,c])=>({...s,[a]:c}),{})).toString()}`,children:e.jsx(m,{className:"h-3 w-3"})})]}),r.category&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Category: ",r.category]}),e.jsx(t,{href:`/products?${new URLSearchParams(Object.entries({...r}).filter(([s])=>s!=="category").reduce((s,[a,c])=>({...s,[a]:c}),{})).toString()}`,children:e.jsx(m,{className:"h-3 w-3"})})]}),r.store&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Store: ",r.store]}),e.jsx(t,{href:`/products?${new URLSearchParams(Object.entries({...r}).filter(([s])=>s!=="store").reduce((s,[a,c])=>({...s,[a]:c}),{})).toString()}`,children:e.jsx(m,{className:"h-3 w-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 mb-8",children:l.data.map(s=>e.jsxs(O,{className:"group overflow-hidden",children:[e.jsx("div",{className:"aspect-square relative overflow-hidden",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"})}),e.jsxs(T,{className:"p-4",children:[e.jsx(t,{href:`/products/${s.id}`,className:"font-medium line-clamp-2 group-hover:text-primary transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"font-bold text-primary",children:["$",s.price.toFixed(2)]}),e.jsx(t,{href:`/stores/${s.store.id}`,className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:s.store.name})]})]})]},s.id))}),l.meta.last_page>1&&e.jsx(I,{children:e.jsx("div",{className:"flex items-center justify-center",children:l.links.map((s,a)=>e.jsx(t,{href:s.url||"#",className:`px-4 py-2 text-sm border-t border-b ${a===0?"rounded-l-md border-l":""} ${a===l.links.length-1?"rounded-r-md border-r":""} ${s.active?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},a))})}),l.data.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filter criteria"}),e.jsx(o,{onClick:u,children:"Clear All Filters"})]})]})]})}export{de as default};
