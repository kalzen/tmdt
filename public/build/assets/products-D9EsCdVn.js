import{r as l,j as e,L,$ as r}from"./app-dP_i2JvW.js";import{F,S as B}from"./frontend-layout-Lrod7_gO.js";import{B as n}from"./button-DKJQ5y5i.js";import{C as R,d as T}from"./card-Bq_fwOuw.js";import{P as k}from"./pagination-CUvBujCf.js";import{I}from"./input-dItr9mAp.js";import{L as D}from"./label-BBtxSD5n.js";import{a as U,S as V}from"./slider-BTaliX5R.js";import{S as u,a as g,b as N,c as v,d as i}from"./select-DIc3JU5S.js";import{S as A,x as O,i as z,X as o}from"./sonner-CnSKM96x.js";import{B as H,a as M,b as f,d as b,e as q}from"./breadcrumb-DH3QRoTt.js";import"./index-bY1mtz_b.js";import"./index-CnRC6Q4F.js";import"./index-D6pgXtgL.js";import"./chevron-down-BClZ1tiA.js";import"./user-fYcyhfMT.js";function ne({products:c,filters:s}){const[S,x]=l.useState(!1),[d,y]=l.useState(s.search||""),[t,w]=l.useState([s.min_price||0,s.max_price||1e3]),[h,_]=l.useState(s.sort_by||"created_at"),[p,$]=l.useState(s.sort_direction||"desc"),C=a=>{a.preventDefault(),window.location.href=`/products?search=${d}`},P=()=>{const a=new URLSearchParams;d&&a.append("search",d),a.append("min_price",t[0].toString()),a.append("max_price",t[1].toString()),a.append("sort_by",h),a.append("sort_direction",p),s.category&&a.append("category",s.category),s.store&&a.append("store",s.store),window.location.href=`/products?${a.toString()}`},j=()=>{window.location.href="/products"};return e.jsxs(F,{children:[e.jsx(L,{title:"Products - TMDT Marketplace"}),e.jsxs("div",{className:"container px-4 py-8 mx-auto",children:[e.jsx(H,{className:"mb-6",children:e.jsxs(M,{children:[e.jsx(f,{children:e.jsx(b,{href:"/",children:"Home"})}),e.jsx(q,{}),e.jsx(f,{children:e.jsx(b,{children:"Products"})})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsx("form",{onSubmit:C,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(I,{type:"search",placeholder:"Search products...",className:"pr-10",value:d,onChange:a=>y(a.target.value)}),e.jsxs(n,{type:"submit",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Search"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{value:h,onValueChange:_,children:[e.jsx(g,{className:"w-[180px]",children:e.jsx(N,{placeholder:"Sort by"})}),e.jsxs(v,{children:[e.jsx(i,{value:"created_at",children:"Newest"}),e.jsx(i,{value:"price",children:"Price"}),e.jsx(i,{value:"name",children:"Name"})]})]}),e.jsxs(u,{value:p,onValueChange:$,children:[e.jsx(g,{className:"w-[120px]",children:e.jsx(N,{placeholder:"Order"})}),e.jsxs(v,{children:[e.jsx(i,{value:"asc",children:"Ascending"}),e.jsx(i,{value:"desc",children:"Descending"})]})]}),e.jsxs(A,{open:S,onOpenChange:x,children:[e.jsx(O,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Filters"]})}),e.jsx(z,{side:"right",className:"w-[300px] sm:w-[400px]",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Filters"}),e.jsxs(n,{variant:"ghost",size:"sm",onClick:j,children:[e.jsx(o,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),e.jsx("div",{className:"space-y-6 flex-1 overflow-y-auto",children:e.jsxs("div",{children:[e.jsx(D,{className:"mb-2 block",children:"Price Range"}),e.jsx("div",{className:"px-2",children:e.jsx(V,{defaultValue:t,max:1e3,step:10,onValueChange:a=>w(a)})}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm",children:["$",t[0]]}),e.jsxs("span",{className:"text-sm",children:["$",t[1]]})]})]})}),e.jsx("div",{className:"pt-4 border-t mt-auto",children:e.jsx(n,{className:"w-full",onClick:()=>{P(),x(!1)},children:"Apply Filters"})})]})})]})]})]}),(s.search||s.min_price||s.max_price||s.category||s.store)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[s.search&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Search: ",s.search]}),e.jsx(r,{href:`/products?${new URLSearchParams({...s,search:void 0}).toString()}`,children:e.jsx(o,{className:"h-3 w-3"})})]}),(s.min_price||s.max_price)&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Price: $",s.min_price||0," - $",s.max_price||1e3]}),e.jsx(r,{href:`/products?${new URLSearchParams({...s,min_price:void 0,max_price:void 0}).toString()}`,children:e.jsx(o,{className:"h-3 w-3"})})]}),s.category&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Category: ",s.category]}),e.jsx(r,{href:`/products?${new URLSearchParams({...s,category:void 0}).toString()}`,children:e.jsx(o,{className:"h-3 w-3"})})]}),s.store&&e.jsxs("div",{className:"bg-muted rounded-full px-3 py-1 text-sm flex items-center",children:[e.jsxs("span",{className:"mr-1",children:["Store: ",s.store]}),e.jsx(r,{href:`/products?${new URLSearchParams({...s,store:void 0}).toString()}`,children:e.jsx(o,{className:"h-3 w-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 mb-8",children:c.data.map(a=>e.jsxs(R,{className:"group overflow-hidden",children:[e.jsx("div",{className:"aspect-square relative overflow-hidden",children:e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"})}),e.jsxs(T,{className:"p-4",children:[e.jsx(r,{href:`/products/${a.id}`,className:"font-medium line-clamp-2 group-hover:text-primary transition-colors",children:a.name}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"font-bold text-primary",children:["$",a.price.toFixed(2)]}),e.jsx(r,{href:`/stores/${a.store.id}`,className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:a.store.name})]})]})]},a.id))}),c.meta.last_page>1&&e.jsx(k,{children:e.jsx("div",{className:"flex items-center justify-center",children:c.links.map((a,m)=>e.jsx(r,{href:a.url||"#",className:`px-4 py-2 text-sm border-t border-b ${m===0?"rounded-l-md border-l":""} ${m===c.links.length-1?"rounded-r-md border-r":""} ${a.active?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"} ${a.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:a.label}},m))})}),c.data.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filter criteria"}),e.jsx(n,{onClick:j,children:"Clear All Filters"})]})]})]})}export{ne as default};
