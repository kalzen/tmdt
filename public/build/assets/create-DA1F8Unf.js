import{r as o,j as e,L as k,$ as h,S as C}from"./app-BXEVKu8S.js";import{A as S}from"./app-layout-FUQVz8B4.js";import{B as d}from"./app-logo-icon-eA7Sa6_S.js";import{I as x}from"./input-DYl2xwC_.js";import{T as y}from"./textarea-CsY74LC2.js";import{C as w,a as T,b as B,c as F,d as _,e as L}from"./card-CUhvS6T_.js";import{L as n}from"./label-BVOHeh7i.js";import{S as V}from"./switch-De6D8s_r.js";import{S as E,a as H,b as I,c as M,d as u}from"./select-0bjdaqSH.js";import{H as A}from"./heading-small-CJkaQd_g.js";import{F as D}from"./ArrowLeftIcon-CfEyuvKB.js";import"./index-BVUcwr4W.js";import"./index-DqbdpqtQ.js";import"./index-Bnnw5rqN.js";import"./chevron-down-CDMMiKSJ.js";function ee({availableLocations:p}){const[r,c]=o.useState({name:"",slug:"",location:"",description:"",is_active:!0,sort_order:0}),[s,j]=o.useState({}),[m,i]=o.useState(!1),l=t=>{const{name:a,value:f}=t.target;c(N=>({...N,[a]:f}))},g=t=>{c(a=>({...a,is_active:t}))},v=t=>{c(a=>({...a,location:t==="none"?"":t}))},b=t=>{t.preventDefault(),i(!0),C.post(route("blocks.store"),r,{onSuccess:()=>{i(!1)},onError:a=>{j(a),i(!1)}})};return e.jsxs(S,{children:[e.jsx(k,{title:"Tạo Block Mới"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(d,{variant:"outline",size:"sm",asChild:!0,className:"mr-4",children:e.jsxs(h,{href:route("blocks.index"),children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Quay lại"]})}),e.jsx(A,{title:"Tạo Block mới",description:"Thêm khối nội dung mới vào trang web của bạn"})]}),e.jsx(w,{children:e.jsxs("form",{onSubmit:b,children:[e.jsxs(T,{children:[e.jsx(B,{children:"Thông tin Block"}),e.jsx(F,{children:"Điền đầy đủ thông tin để tạo block mới. Sau khi tạo, bạn có thể thêm các mục nội dung vào block."})]}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"name",children:["Tên Block ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(x,{id:"name",name:"name",value:r.name,onChange:l,placeholder:"Nhập tên block",className:s.name?"border-destructive":""}),s.name&&e.jsx("p",{className:"text-destructive text-sm",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"slug",children:"Slug"}),e.jsx(x,{id:"slug",name:"slug",value:r.slug,onChange:l,placeholder:"Để trống để tự động tạo từ tên",className:s.slug?"border-destructive":""}),s.slug&&e.jsx("p",{className:"text-destructive text-sm",children:s.slug}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Định danh duy nhất của block, được sử dụng trong mã nguồn."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"location",children:"Vị trí hiển thị"}),e.jsxs(E,{value:r.location||"none",onValueChange:v,children:[e.jsx(H,{className:s.location?"border-destructive":"",children:e.jsx(I,{placeholder:"Chọn vị trí hiển thị"})}),e.jsxs(M,{children:[e.jsx(u,{value:"none",children:"Không xác định"}),Object.entries(p).map(([t,a])=>e.jsx(u,{value:t,children:a},t))]})]}),s.location&&e.jsx("p",{className:"text-destructive text-sm",children:s.location}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Vị trí mà block này sẽ hiển thị trên trang web."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Mô tả"}),e.jsx(y,{id:"description",name:"description",value:r.description,onChange:l,placeholder:"Mô tả về block này (không bắt buộc)",className:s.description?"border-destructive":"",rows:4}),s.description&&e.jsx("p",{className:"text-destructive text-sm",children:s.description})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{htmlFor:"is_active",className:"cursor-pointer",children:"Kích hoạt Block"}),e.jsx(V,{id:"is_active",checked:r.is_active,onCheckedChange:g})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Block sẽ ",r.is_active?"":"không"," được hiển thị trên trang web."]})]})]}),e.jsxs(L,{className:"flex justify-between border-t pt-6",children:[e.jsx(d,{variant:"outline",type:"button",asChild:!0,children:e.jsx(h,{href:route("blocks.index"),children:"Hủy"})}),e.jsx(d,{type:"submit",disabled:m,children:m?"Đang lưu...":"Tạo Block"})]})]})})]})})]})}export{ee as default};
