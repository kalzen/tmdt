import{m as f,j as e,L as j,S as v}from"./app-DqiSixaU.js";import{A as u}from"./app-layout-44IUH_du.js";import{B as l}from"./button-Vwjj-OnV.js";import{I as o}from"./input-rwI3aTka.js";import{L as d}from"./label-BHawVvV0.js";import{C as m}from"./checkbox-Du1zcYWt.js";import{C as g,a as w,b as _,c as C,d as N,e as y}from"./card-CD869DkV.js";import{H as b}from"./heading-small-CDciPLvm.js";import"./sonner-DqdGB1aL.js";import"./index-QBfIi4ke.js";import"./index-Dt2tzPUx.js";import"./index-DAT3kW4F.js";import"./index-rdaqocs_.js";import"./index-CKby9DHx.js";import"./app-logo-icon-CL111KAJ.js";import"./list-EilPD0EF.js";import"./store-CRIWFzW6.js";import"./breadcrumb-C4pj_-zw.js";import"./index-Boc7TndE.js";function K({user:i}){const{data:a,setData:t,processing:c,errors:n}=f({name:i.name||"",email:i.email||"",password:"",password_confirmation:"",is_admin:i.is_admin||!1,is_gold:i.is_gold||!1,avatar:null,_method:"PUT"}),p=[{title:"Users",href:route("users.index")},{title:"Edit User",href:route("users.edit",i.id)}],x=s=>{s.preventDefault();const r=new FormData;r.append("_method","PUT"),r.append("is_admin",a.is_admin?"1":"0"),r.append("is_gold",a.is_gold?"1":"0"),a.name!==i.name&&r.append("name",a.name),a.email!==i.email&&r.append("email",a.email),a.password&&(r.append("password",a.password),r.append("password_confirmation",a.password_confirmation)),a.avatar&&r.append("avatar",a.avatar),v.post(route("users.update",i.id),r)},h=s=>{s.target.files&&s.target.files[0]&&t("avatar",s.target.files[0])};return e.jsxs(u,{breadcrumbs:p,children:[e.jsx(j,{title:`Edit User: ${i.name}`}),e.jsxs("div",{className:"py-6 px-6",children:[e.jsx(b,{title:`Edit User: ${i.name}`,description:"Update user information and permissions"}),e.jsx(g,{className:"max-w-2xl mt-6",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs(w,{children:[e.jsx(_,{children:"User Information"}),e.jsx(C,{children:"Update the user's details and permissions"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mb-3",children:e.jsx("img",{src:i.avatar||"/assets/images/default-avatar.png",alt:i.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"avatar",children:"Profile Photo"}),e.jsx(o,{id:"avatar",type:"file",accept:"image/*",onChange:h})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Name"}),e.jsx(o,{id:"name",type:"text",value:a.name,onChange:s=>t("name",s.target.value),required:!0}),n.name&&e.jsx("div",{className:"text-red-500 text-sm",children:n.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",value:a.email,onChange:s=>t("email",s.target.value),required:!0}),n.email&&e.jsx("div",{className:"text-red-500 text-sm",children:n.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Password (leave blank to keep current)"}),e.jsx(o,{id:"password",type:"password",value:a.password,onChange:s=>t("password",s.target.value)}),n.password&&e.jsx("div",{className:"text-red-500 text-sm",children:n.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(o,{id:"password_confirmation",type:"password",value:a.password_confirmation,onChange:s=>t("password_confirmation",s.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-8 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"is_admin",checked:a.is_admin,onCheckedChange:s=>t("is_admin",!!s)}),e.jsx(d,{htmlFor:"is_admin",className:"cursor-pointer",children:"Administrator"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"is_gold",checked:a.is_gold,onCheckedChange:s=>t("is_gold",!!s)}),e.jsx(d,{htmlFor:"is_gold",className:"cursor-pointer",children:"Gold User"})]})]})]}),e.jsxs(y,{className:"flex justify-end space-x-2",children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(l,{type:"submit",disabled:c,children:"Update User"})]})]})})]})]})}export{K as default};
