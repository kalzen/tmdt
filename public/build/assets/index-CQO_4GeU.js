import{r as h,j as e,L as x,$ as n,S as i}from"./app-BXEVKu8S.js";import{H as p}from"./heading-small-CJkaQd_g.js";import{A as u}from"./app-layout-FUQVz8B4.js";import{B as r}from"./app-logo-icon-eA7Sa6_S.js";import{I as g}from"./input-DYl2xwC_.js";import{P as j}from"./pagination-D_cllie-.js";import"./index-BVUcwr4W.js";import"./index-DqbdpqtQ.js";import"./select-0bjdaqSH.js";import"./index-Bnnw5rqN.js";import"./chevron-down-CDMMiKSJ.js";const f=[{title:"Danh mục",href:route("categories.index")}];function D({categories:a,filters:s}){const[l,d]=h.useState(s.search||""),m=t=>{t.preventDefault(),i.get(route("categories.index"),{search:l},{preserveState:!0})},c=t=>{i.get(route("categories.index"),{...s,page:t},{preserveState:!0})},o=t=>{i.get(route("categories.index"),{...s,per_page:t},{preserveState:!0})};return e.jsxs(u,{breadcrumbs:f,children:[e.jsx(x,{title:"Danh mục"}),e.jsxs("div",{className:"space-y-6 px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsx(p,{title:"Quản lý danh mục",description:"Tạo, chỉnh sửa và quản lý danh mục cho bài viết"}),e.jsx(n,{href:route("categories.create"),children:e.jsx(r,{children:"Thêm danh mục mới"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("form",{onSubmit:m,className:"flex-1 max-w-sm",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(g,{type:"search",placeholder:"Tìm kiếm danh mục...",className:"pl-4 pr-12",value:l,onChange:t=>d(t.target.value)}),e.jsx(r,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:"Tìm"})]})}),s.search&&e.jsx(r,{variant:"ghost",onClick:()=>i.get(route("categories.index"),{}),children:"Xóa bộ lọc"})]}),a.data.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.search?`Không tìm thấy danh mục nào phù hợp với "${s.search}"`:"Chưa có danh mục nào. Hãy thêm danh mục đầu tiên của bạn."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.data.map(t=>e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow",children:e.jsxs("div",{className:"flex flex-col",children:[t.image_thumb&&e.jsx("div",{className:"relative h-48 w-full overflow-hidden rounded-t-lg",children:e.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.title}),t.description&&e.jsx("p",{className:"mt-2 text-sm text-muted-foreground line-clamp-2",children:t.description}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"inline-flex items-center rounded-full bg-primary/10 px-2.5 py-0.5 text-xs font-medium text-primary",children:[t.posts_count," bài viết"]})}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(n,{href:route("categories.edit",t.id),children:e.jsx(r,{variant:"outline",size:"sm",children:"Sửa"})}),e.jsx(n,{href:route("categories.destroy",t.id),method:"delete",as:"button",children:e.jsx(r,{variant:"destructive",size:"sm",children:"Xóa"})})]})]})]})},t.id))})]}),a.meta&&e.jsx("div",{className:"mt-6 border-t pt-6",children:e.jsx(j,{currentPage:a.meta.current_page,lastPage:a.meta.last_page,perPage:parseInt(s.per_page||"10"),total:a.meta.total,from:a.meta.from||0,to:a.meta.to||0,onPageChange:c,onPerPageChange:o})})]})}export{D as default};
