import{m as N,r as y,j as e,L as f,$ as b}from"./app-BXEVKu8S.js";import{A as w}from"./app-layout-FUQVz8B4.js";import{B as m}from"./app-logo-icon-eA7Sa6_S.js";import{C as S,a as F,b as T,c as L,d as M,e as k}from"./card-CUhvS6T_.js";import{I as h}from"./input-DYl2xwC_.js";import{L as i}from"./label-BVOHeh7i.js";import{T as p}from"./textarea-CsY74LC2.js";import{S as H,a as I,b as D,c as E,d as U}from"./select-0bjdaqSH.js";import{I as c}from"./image-uploader-JNWriVxQ.js";import{F as V}from"./ArrowLeftIcon-CfEyuvKB.js";import"./index-BVUcwr4W.js";import"./index-DqbdpqtQ.js";import"./index-Bnnw5rqN.js";import"./chevron-down-CDMMiKSJ.js";import"./PencilIcon-C6O4FU6Q.js";function Y({config:n,types:x,media:r}){const{data:l,setData:t,patch:u,processing:o,errors:a}=N({name:n.name||"",title:n.title||"",value:n.value||"",type:n.type||"string",description:n.description||"",logo:null,favicon:null,thumbnail:null}),[d,j]=y.useState(n.type==="image"),v=s=>{s.preventDefault(),u(route("configs.update",n.id))},g=s=>{t("type",s),j(s==="image")};return e.jsxs(w,{children:[e.jsx(f,{title:"Chỉnh Sửa Cấu Hình"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(m,{variant:"outline",size:"sm",asChild:!0,className:"mr-4",children:e.jsxs(b,{href:route("configs.index"),children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Quay lại"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Chỉnh Sửa Cấu Hình"})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(T,{children:"Thông Tin Cấu Hình"}),e.jsx(L,{children:"Cập nhật thông tin chi tiết cho cấu hình."})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"title",children:"Tên hiển thị"}),e.jsx(h,{id:"title",value:l.title,onChange:s=>t("title",s.target.value),placeholder:"Nhập tên hiển thị cho cấu hình"}),a.title&&e.jsx("p",{className:"text-sm text-red-600",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Mã cấu hình"}),e.jsx(h,{id:"name",value:l.name,onChange:s=>t("name",s.target.value),placeholder:"Ví dụ: site_title"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mã cấu hình phải là duy nhất và không chứa khoảng trắng hay ký tự đặc biệt."}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"type",children:"Kiểu dữ liệu"}),e.jsxs(H,{value:l.type,onValueChange:g,children:[e.jsx(I,{children:e.jsx(D,{placeholder:"Chọn kiểu dữ liệu"})}),e.jsx(E,{children:Object.entries(x).map(([s,C])=>e.jsx(U,{value:s,children:C},s))})]}),a.type&&e.jsx("p",{className:"text-sm text-red-600",children:a.type})]}),!d&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"value",children:"Giá trị"}),l.type==="text"?e.jsx(p,{id:"value",value:l.value,onChange:s=>t("value",s.target.value),rows:5}):e.jsx(h,{id:"value",type:l.type==="number"?"number":"text",value:l.value,onChange:s=>t("value",s.target.value)}),a.value&&e.jsx("p",{className:"text-sm text-red-600",children:a.value})]}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{id:"logo",value:r.logo,onChange:s=>t("logo",s),title:"Logo",description:"Cập nhật logo cho website",error:a.logo,placeholder:"/assets/logo-placeholder.png",className:"w-24 h-24",previewClassName:"w-full h-32 object-contain"}),e.jsx(c,{id:"favicon",value:r.favicon,onChange:s=>t("favicon",s),title:"Favicon",description:"Cập nhật favicon cho website",error:a.favicon,helpText:"Nên sử dụng hình vuông, kích thước nhỏ",placeholder:"/assets/favicon-placeholder.png",className:"w-16 h-16",previewClassName:"w-16 h-16"}),e.jsx(c,{id:"thumbnail",value:r.thumbnail,onChange:s=>t("thumbnail",s),title:"Hình thu nhỏ",description:"Cập nhật hình thu nhỏ mặc định",error:a.thumbnail,placeholder:"/assets/thumbnail-placeholder.png",className:"w-24 h-24",previewClassName:"w-full h-32"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",children:"Mô tả"}),e.jsx(p,{id:"description",value:l.description,onChange:s=>t("description",s.target.value),placeholder:"Mô tả về cấu hình này",rows:3}),a.description&&e.jsx("p",{className:"text-sm text-red-600",children:a.description})]})]}),e.jsx(k,{className:"flex justify-end",children:e.jsx(m,{type:"submit",disabled:o,children:o?"Đang cập nhật...":"Cập nhật cấu hình"})})]})]})]})})]})}export{Y as default};
