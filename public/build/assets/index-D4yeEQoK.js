import{r as h,j as e,L as T,$ as c,S as g}from"./app-DVolXm_H.js";import{A}from"./app-layout-BGMCOdRm.js";import{B as n}from"./button-DbKjlMrn.js";import{H as w}from"./heading-small-CrP9WFqi.js";import{I as D}from"./input-BqT_-I7N.js";import{T as S,a as k,b as f,c as t,d as H,e as i}from"./table-Dk2pM1H_.js";import{B as L}from"./badge-6e0qjOlb.js";import{o as B,p as F,q as _}from"./sonner-CEinsP_z.js";import{S as Q}from"./switch-4TpfPNi4.js";import{A as z,a as I,b as V,c as E,d as R,e as q,f as K,g as M,h as X}from"./alert-dialog-B8JrKKL5.js";import{a as $}from"./helpers-BnKCNx3y.js";import{F as v}from"./PlusIcon-CtjB7yF0.js";import"./index-_mtVRR73.js";import"./index-C7NGfonP.js";import"./index-CW0FACpT.js";import"./app-logo-icon-CCGXo8xc.js";import"./list-CcDTc0Y3.js";import"./store-CV19H3N4.js";import"./breadcrumb-Co9X1bHK.js";import"./chevron-right-C1IPqF67.js";import"./index-BG5QGlun.js";import"./index-Bh82dGG3.js";function je({members:a}){const[o,d]=h.useState(!1),[r,C]=h.useState(""),[x,j]=h.useState(a);h.useEffect(()=>{if(r.trim()==="")j(a);else{const s=r.toLowerCase();j(a.filter(l=>{var p,m,u;return l.name.toLowerCase().includes(s)||((p=l.position)==null?void 0:p.toLowerCase().includes(s))||((m=l.email)==null?void 0:m.toLowerCase().includes(s))||((u=l.phone)==null?void 0:u.toLowerCase().includes(s))}))}},[r,a]);const y=s=>{d(!0),g.delete(route("members.destroy",s),{onFinish:()=>d(!1)})},N=s=>{g.put(route("members.update",s.id),{...s,is_active:!s.is_active})};return e.jsxs(A,{children:[e.jsx(T,{title:"Quản lý Thành Viên"}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsx(w,{title:"Quản lý Thành Viên",description:"Quản lý thông tin các thành viên trong tổ chức của bạn"}),e.jsx(n,{asChild:!0,children:e.jsxs(c,{href:route("members.create"),children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Thêm Thành Viên"]})})]}),a.length>0&&e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"relative flex-1 max-w-sm",children:e.jsx(D,{type:"search",placeholder:"Tìm kiếm thành viên...",className:"pl-8",value:r,onChange:s=>C(s.target.value)})})}),x.length>0?e.jsxs(S,{children:[e.jsx(k,{children:e.jsxs(f,{children:[e.jsx(t,{className:"w-[80px]",children:"Ảnh"}),e.jsx(t,{children:"Họ tên"}),e.jsx(t,{children:"Chức vụ"}),e.jsx(t,{children:"Liên hệ"}),e.jsx(t,{children:"Trạng thái"}),e.jsx(t,{className:"text-right",children:"Thao tác"})]})}),e.jsx(H,{children:x.map(s=>e.jsxs(f,{children:[e.jsx(i,{children:e.jsxs(B,{className:"size-12",children:[e.jsx(F,{src:$(s.avatar_thumb),alt:s.name}),e.jsx(_,{children:s.name.charAt(0)})]})}),e.jsx(i,{className:"font-medium",children:s.name}),e.jsx(i,{children:s.position||"Chưa cập nhật"}),e.jsx(i,{children:e.jsxs("div",{className:"text-sm space-y-1",children:[s.email&&e.jsx("div",{children:s.email}),s.phone&&e.jsx("div",{children:s.phone})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{checked:s.is_active,onCheckedChange:()=>N(s)}),e.jsx(L,{variant:s.is_active?"default":"secondary",children:s.is_active?"Đang hoạt động":"Không hoạt động"})]})}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(c,{href:route("members.edit",s.id),children:"Sửa"})}),e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(c,{href:route("members.show",s.id),children:"Chi tiết"})}),e.jsxs(z,{children:[e.jsx(I,{asChild:!0,children:e.jsx(n,{variant:"destructive",size:"sm",children:"Xóa"})}),e.jsxs(V,{children:[e.jsxs(E,{children:[e.jsx(R,{children:"Bạn có chắc chắn?"}),e.jsx(q,{children:"Hành động này sẽ xóa thành viên và không thể khôi phục."})]}),e.jsxs(K,{children:[e.jsx(M,{children:"Hủy bỏ"}),e.jsx(X,{onClick:()=>y(s.id),disabled:o,children:o?"Đang xóa...":"Xác nhận xóa"})]})]})]})]})})]},s.id))})]}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a.length===0?"Chưa có thành viên nào. Hãy thêm thành viên đầu tiên của bạn.":"Không tìm thấy thành viên nào khớp với từ khóa tìm kiếm."}),a.length===0&&e.jsx(n,{asChild:!0,className:"mt-4",children:e.jsxs(c,{href:route("members.create"),children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Thêm Thành Viên"]})})]})]})]})}export{je as default};
