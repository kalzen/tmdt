import{r as x,j as e,L as g,$ as d,S as o,K as u}from"./app-7ipYk7dP.js";import{H as j}from"./heading-small-v__Jhi26.js";import{A as f}from"./app-layout-B8CyoS_M.js";import{B as n}from"./button-D8P3krC6.js";import{I as v}from"./input-DiKJldMx.js";import{P as N}from"./pagination-BSHtsPpC.js";import"./sonner-JYUXdybd.js";import"./index-CwS8MveZ.js";import"./index-Bqvv0ZXL.js";import"./index-DISz8nWA.js";import"./app-logo-icon-B4ouZEfb.js";import"./list-B0pc_53f.js";import"./store-DEeQdQMq.js";import"./breadcrumb-D302Vkzw.js";function s(a,r){try{const i=u().props.translations;return i&&i[a]?i[a]:r}catch{return r}}function E({categories:a,filters:r}){const[c,i]=x.useState(r.search||""),l=[{title:s("admin.categories","Categories"),href:route("categories.index")}],m=t=>{t.preventDefault(),o.get(route("categories.index"),{search:c},{preserveState:!0})},h=t=>{o.get(route("categories.index"),{...r,page:t},{preserveState:!0})},p=t=>{o.get(route("categories.index"),{...r,per_page:t},{preserveState:!0})};return e.jsxs(f,{breadcrumbs:l,children:[e.jsx(g,{title:s("admin.categories","Categories")}),e.jsxs("div",{className:"space-y-6 px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsx(j,{title:s("admin.categories","Categories"),description:s("admin.categories_description","Create, edit and manage categories for posts")}),e.jsx(d,{href:route("categories.create"),children:e.jsx(n,{children:s("admin.create_category","Create Category")})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("form",{onSubmit:m,className:"flex-1 max-w-sm",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(v,{type:"search",placeholder:s("admin.search_categories","Search categories..."),className:"pl-4 pr-12",value:c,onChange:t=>i(t.target.value)}),e.jsx(n,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:s("admin.search","Search")})]})}),r.search&&e.jsx(n,{variant:"ghost",onClick:()=>o.get(route("categories.index"),{}),children:s("admin.clear_filters","Clear filters")})]}),a.data.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.search?`Không tìm thấy danh mục nào phù hợp với "${r.search}"`:"Chưa có danh mục nào. Hãy thêm danh mục đầu tiên của bạn."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.data.map(t=>e.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow",children:e.jsxs("div",{className:"flex flex-col",children:[t.image_thumb&&e.jsx("div",{className:"relative h-48 w-full overflow-hidden rounded-t-lg",children:e.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.title}),t.description&&e.jsx("p",{className:"mt-2 text-sm text-muted-foreground line-clamp-2",children:t.description}),e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"inline-flex items-center rounded-full bg-primary/10 px-2.5 py-0.5 text-xs font-medium text-primary",children:[t.posts_count," bài viết"]})}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(d,{href:route("categories.edit",t.id),children:e.jsx(n,{variant:"outline",size:"sm",children:"Sửa"})}),e.jsx(d,{href:route("categories.destroy",t.id),method:"delete",as:"button",children:e.jsx(n,{variant:"destructive",size:"sm",children:"Xóa"})})]})]})]})},t.id))})]}),a.meta&&e.jsx("div",{className:"mt-6 border-t pt-6",children:e.jsx(N,{currentPage:a.meta.current_page,lastPage:a.meta.last_page,perPage:parseInt(r.per_page||"10"),total:a.meta.total,from:a.meta.from||0,to:a.meta.to||0,onPageChange:h,onPerPageChange:p})})]})}export{E as default};
