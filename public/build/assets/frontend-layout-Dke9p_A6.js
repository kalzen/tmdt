import{j as e,m as O,$ as i,r as m,K as Y,R as te}from"./app-DHNzh_VC.js";import{w as re,G as ne,O as ae,y as oe,S as X,J as ie,k as Z,D as le,a as ce,l as de,m as me,n as he,b as xe,o as ue,p as $,q as pe,c as A,r as ge,L as fe,h as je,i as ye,t as F,T as we}from"./sonner-Cr_jOxrZ.js";import{c as N,a as B,B as f}from"./button-B2oyIXXl.js";import{I as S}from"./input-CnmXs62P.js";import{T as be,a as Ne,b as H,c as z}from"./tabs-4HD461Ia.js";import{L as I}from"./label-DWQfPYVq.js";import{L as G}from"./loader-circle-Ct8fx0Kq.js";import{N as ve,a as Se,b as M,c as L,d as q,e as V,L as Ce}from"./navigation-menu-DYB-MOmx.js";import{S as ke,a as De,b as _e,c as Ie,d as K}from"./select-DpuWfs8y.js";import{B as Me}from"./badge-CsRqFO5U.js";import{C as Le}from"./chevron-down-BZTg_nQV.js";import{C as J}from"./card-LNnVeNUF.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fe=N("Bell",Te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],W=N("CircleUserRound",Re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Be=N("Facebook",Ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Ee=N("Instagram",Pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Oe=N("LayoutDashboard",Ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],He=N("MessageCircle",$e);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ge=N("Search",ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ve=N("Send",qe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Je=N("Twitter",Ke);function We({id:t,label:a,checked:c,onChange:r,disabled:s,className:n,...j}){const o=y=>{y.preventDefault(),s||r(!c)};return e.jsxs("div",{className:B("flex items-center space-x-2 select-none",s&&"opacity-50 cursor-not-allowed",n),onClick:o,...j,children:[e.jsx("div",{role:"checkbox","aria-checked":c,"aria-labelledby":`${t}-label`,tabIndex:s?-1:0,className:B("flex items-center justify-center h-4 w-4 shrink-0 rounded border border-primary ring-offset-background transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed",c&&"bg-primary text-primary-foreground"),children:c&&e.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("label",{id:`${t}-label`,htmlFor:t,className:B("text-sm text-muted-foreground cursor-pointer",s&&"cursor-not-allowed"),children:a})]})}function Qe({isOpen:t,onClose:a,defaultTab:c="login"}){const r=O({email:"",password:"",remember:!1}),s=O({name:"",email:"",password:"",password_confirmation:""}),n=o=>{o.preventDefault(),r.post(route("login"),{preserveScroll:!0,onSuccess:()=>{a(),r.reset()}})},j=o=>{o.preventDefault(),s.post(route("register"),{preserveScroll:!0,onSuccess:()=>{a(),s.reset()}})};return e.jsx(re,{open:t,onOpenChange:o=>{o||(a(),r.reset(),s.reset())},children:e.jsxs(ne,{children:[e.jsx(ae,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),e.jsxs(oe,{className:"fixed left-[50%] top-[50%] z-50 w-full max-w-[425px] translate-x-[-50%] translate-y-[-50%] rounded-lg border bg-background p-6 shadow-lg",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx(i,{href:route("home"),className:"mx-auto",children:e.jsx("img",{src:"/logo.png",alt:"84Gate",className:"h-8 w-auto"})})}),e.jsxs(be,{defaultValue:c,className:"w-full",children:[e.jsxs(Ne,{className:"grid w-full grid-cols-2",children:[e.jsx(H,{value:"login",children:"Login"}),e.jsx(H,{value:"signup",children:"Sign Up"})]}),e.jsx(z,{value:"login",children:e.jsxs("form",{onSubmit:n,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{htmlFor:"email",children:"Email address"}),e.jsx(S,{id:"email",type:"email",autoFocus:!0,autoComplete:"email",placeholder:"email@example.com",value:r.data.email,onChange:o=>r.setData("email",o.target.value),disabled:r.processing}),r.errors.email&&e.jsx("p",{className:"text-sm text-red-500",children:r.errors.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{htmlFor:"password",children:"Password"}),e.jsx(i,{href:route("password.request"),className:"text-sm text-primary hover:text-primary/80",onClick:()=>a(),children:"Forgot password?"})]}),e.jsx(S,{id:"password",type:"password",autoComplete:"current-password",placeholder:"Password",value:r.data.password,onChange:o=>r.setData("password",o.target.value),disabled:r.processing}),r.errors.password&&e.jsx("p",{className:"text-sm text-red-500",children:r.errors.password})]}),e.jsx(We,{id:"remember",label:"Remember me",checked:r.data.remember,onChange:o=>r.setData("remember",o),disabled:r.processing}),e.jsxs(f,{type:"submit",className:"w-full",disabled:r.processing,children:[r.processing&&e.jsx(G,{className:"mr-2 h-4 w-4 animate-spin"}),r.processing?"Logging in...":"Login"]})]})}),e.jsx(z,{value:"signup",children:e.jsxs("form",{onSubmit:j,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{htmlFor:"name",children:"Full name"}),e.jsx(S,{id:"name",type:"text",autoComplete:"name",placeholder:"John Doe",value:s.data.name,onChange:o=>s.setData("name",o.target.value),disabled:s.processing}),s.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:s.errors.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{htmlFor:"signup-email",children:"Email address"}),e.jsx(S,{id:"signup-email",type:"email",autoComplete:"email",placeholder:"email@example.com",value:s.data.email,onChange:o=>s.setData("email",o.target.value),disabled:s.processing}),s.errors.email&&e.jsx("p",{className:"text-sm text-red-500",children:s.errors.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{htmlFor:"signup-password",children:"Password"}),e.jsx(S,{id:"signup-password",type:"password",autoComplete:"new-password",placeholder:"Create a password",value:s.data.password,onChange:o=>s.setData("password",o.target.value),disabled:s.processing}),s.errors.password&&e.jsx("p",{className:"text-sm text-red-500",children:s.errors.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{htmlFor:"password_confirmation",children:"Confirm password"}),e.jsx(S,{id:"password_confirmation",type:"password",autoComplete:"new-password",placeholder:"Confirm your password",value:s.data.password_confirmation,onChange:o=>s.setData("password_confirmation",o.target.value),disabled:s.processing})]}),e.jsxs(f,{type:"submit",className:"w-full",disabled:s.processing,children:[s.processing&&e.jsx(G,{className:"mr-2 h-4 w-4 animate-spin"}),s.processing?"Creating account...":"Create Account"]})]})})]})]})]})})}const D=te.forwardRef(({className:t,title:a,children:c,...r},s)=>e.jsx("li",{children:e.jsx(L,{asChild:!0,children:e.jsxs("a",{ref:s,className:B("block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t),...r,children:[e.jsx("div",{className:"text-sm font-medium leading-none",children:a}),e.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:c})]})})}));D.displayName="ListItem";function Ye({siteTitle:t="84Gate",logoPath:a}){const[c,r]=m.useState("products"),[s,n]=m.useState(""),[j,o]=m.useState(!1),[y,p]=m.useState("login"),{auth:w}=Y().props,C=(x="login")=>b=>{b.preventDefault(),p(x),o(!0)};m.useEffect(()=>{const x=new URLSearchParams(window.location.search),b=x.get("keyword");b&&n(b);const _=x.get("type");(_==="products"||_==="stores")&&r(_)},[]);const R=x=>x.split(" ").map(b=>b[0]).join("").toUpperCase().substring(0,2);return e.jsx("header",{className:"w-full border-b place-items-center bg-background",children:e.jsxs("div",{className:"container px-4 md:px-6",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(X,{children:[e.jsx(ie,{asChild:!0,children:e.jsxs(f,{variant:"ghost",size:"icon",className:"md:hidden",children:[e.jsx("span",{className:"sr-only",children:"Toggle menu"}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),e.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),e.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})]})}),e.jsx(Z,{side:"left",className:"w-[300px] sm:w-[400px]",children:e.jsxs("nav",{className:"flex flex-col gap-4 mt-8",children:[e.jsx(i,{href:route("home"),className:"text-lg font-semibold",children:"Home"}),e.jsx(i,{href:route("frontend.categories.index"),className:"text-lg font-semibold",children:"Categories"}),e.jsx(i,{href:route("frontend.stores.index"),className:"text-lg font-semibold",children:"Stores"}),e.jsx(i,{href:route("frontend.products.index"),className:"text-lg font-semibold",children:"Products"}),e.jsx(i,{href:route("frontend.blog.index"),className:"text-lg font-semibold",children:"Blog"}),e.jsx(i,{href:route("frontend.contact"),className:"text-lg font-semibold",children:"Help Center"})]})})]}),e.jsx(i,{href:route("home"),className:"flex items-center gap-2",children:a?e.jsx("img",{src:a,alt:t,className:"h-8 w-auto"}):e.jsx("span",{className:"text-xl font-bold text-primary",children:t})}),e.jsx(ve,{className:"hidden md:flex",children:e.jsxs(Se,{children:[e.jsx(M,{children:e.jsx(L,{asChild:!0,children:e.jsx(i,{href:route("home"),className:"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Home"})})}),e.jsxs(M,{children:[e.jsx(q,{children:"Categories"}),e.jsx(V,{children:e.jsxs("ul",{className:"grid w-[400px] gap-3 p-4 md:w-[500px] md:grid-cols-2 lg:w-[600px]",children:[e.jsx("li",{className:"row-span-3",children:e.jsx(L,{asChild:!0,children:e.jsxs(i,{className:"flex h-full w-full select-none flex-col justify-end rounded-md bg-gradient-to-b from-primary/50 to-primary p-6 no-underline outline-none focus:shadow-md",href:route("frontend.categories.index"),children:[e.jsx("div",{className:"mt-4 mb-2 text-lg font-medium text-white",children:"All Categories"}),e.jsx("p",{className:"text-sm leading-tight text-white/90",children:"Explore all product categories"})]})})}),e.jsx(D,{href:route("frontend.categories.show","electronics"),title:"Electronics",children:"Phones, computers, electronic devices"}),e.jsx(D,{href:route("frontend.categories.show","fashion"),title:"Fashion",children:"Clothing, shoes, accessories"}),e.jsx(D,{href:route("frontend.categories.show","home"),title:"Home & Living",children:"Household items, furniture, decor"})]})})]}),e.jsxs(M,{children:[e.jsx(q,{children:"Stores"}),e.jsx(V,{children:e.jsxs("ul",{className:"grid w-[400px] gap-3 p-4 md:w-[500px] md:grid-cols-2 lg:w-[600px]",children:[e.jsx(D,{href:route("frontend.stores.index"),title:"All Stores",children:"Explore all stores"}),e.jsx(D,{href:`${route("frontend.stores.index")}?featured=1`,title:"Featured Stores",children:"Highly rated stores"}),e.jsx(D,{href:`${route("frontend.stores.index")}?sort=newest`,title:"New Stores",children:"Recently joined stores"})]})})]}),e.jsx(M,{children:e.jsx(L,{asChild:!0,children:e.jsx(i,{href:route("frontend.products.index"),className:"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Products"})})}),e.jsx(M,{children:e.jsx(L,{asChild:!0,children:e.jsx(i,{href:route("frontend.blog.index"),className:"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Blog"})})}),e.jsx(M,{children:e.jsx(L,{asChild:!0,children:e.jsx(i,{href:route("frontend.contact"),className:"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",children:"Help Center"})})})]})})]}),e.jsx("div",{className:"flex items-center gap-2",children:w.user?e.jsx(e.Fragment,{children:e.jsxs(le,{children:[e.jsx(ce,{asChild:!0,children:e.jsxs(f,{variant:"ghost",size:"sm",className:"gap-2 flex items-center",children:[e.jsxs(de,{className:"h-8 w-8",children:[e.jsx(me,{src:w.user.avatar_url,alt:w.user.name}),e.jsx(he,{children:R(w.user.name)})]}),e.jsx("span",{className:"hidden md:inline-flex font-medium",children:w.user.name}),e.jsx(Le,{className:"h-4 w-4 opacity-50"})]})}),e.jsxs(xe,{align:"end",className:"w-56",children:[e.jsx(ue,{children:"My Account"}),e.jsx($,{}),e.jsxs(pe,{children:[e.jsx(A,{children:e.jsxs(i,{href:route("dashboard"),className:"flex items-center w-full",children:[e.jsx(Oe,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx(A,{children:e.jsxs(i,{href:route("profile.edit"),className:"flex items-center w-full",children:[e.jsx(ge,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]})}),e.jsx(A,{children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Notifications"}),e.jsx(Me,{className:"ml-2 bg-primary text-white",variant:"outline",children:"3"})]})})]}),e.jsx($,{}),e.jsx(A,{children:e.jsxs(i,{href:route("logout"),method:"post",as:"button",className:"flex items-center w-full",children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(f,{variant:"ghost",size:"sm",className:"hidden md:inline-flex gap-2",onClick:C("login"),children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Login"})]}),e.jsxs(f,{variant:"default",size:"sm",className:"hidden md:inline-flex gap-2 rounded-full",onClick:C("signup"),children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:"Sign Up"})]}),e.jsxs(f,{variant:"ghost",size:"icon",className:"md:hidden",onClick:C("login"),children:[e.jsx(W,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Account"})]}),e.jsx(Qe,{isOpen:j,onClose:()=>o(!1),defaultTab:y})]})})]}),e.jsx("div",{className:"py-3",children:e.jsx("form",{action:route("frontend.search"),method:"get",children:e.jsxs("div",{className:"flex w-full max-w-3xl mx-auto rounded-full overflow-hidden border-orange-500 border-solid border-2",children:[e.jsx("div",{className:"flex-shrink-0 w-28",children:e.jsxs(ke,{name:"type",value:c,onValueChange:x=>r(x),children:[e.jsx(De,{className:"border-0 border-r-1 rounded-none",children:e.jsx(_e,{placeholder:"Search in"})}),e.jsxs(Ie,{children:[e.jsx(K,{value:"products",children:"Products"}),e.jsx(K,{value:"stores",children:"Stores"})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx(S,{name:"keyword",type:"search",placeholder:c==="products"?"Search for products...":"Search for stores...",className:"flex-1 border-0 rounded-full h-full",value:s,onChange:x=>n(x.target.value),required:!0}),e.jsxs(f,{type:"submit",className:"rounded-full absolute h-full right-0 px-3 pr-3 pl-3 flex items-center border-rounded bg-orange-500",children:[e.jsx(Ge,{className:"h-4 w-4"})," Search"]})]})]})})})]})})}function Xe(){return e.jsx("footer",{className:"bg-background border-t",children:e.jsxs("div",{className:"container px-4 py-12 mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"84Gate"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your trusted marketplace for quality products from verified sellers."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs(i,{href:"#",className:"text-muted-foreground hover:text-primary",children:[e.jsx(Be,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Facebook"})]}),e.jsxs(i,{href:"#",className:"text-muted-foreground hover:text-primary",children:[e.jsx(Ee,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Instagram"})]}),e.jsxs(i,{href:"#",className:"text-muted-foreground hover:text-primary",children:[e.jsx(Je,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Twitter"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Shop"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(i,{href:route("frontend.categories.index"),className:"text-muted-foreground hover:text-primary",children:"All Categories"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.products.index"),className:"text-muted-foreground hover:text-primary",children:"Products"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.stores.index"),className:"text-muted-foreground hover:text-primary",children:"Stores"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.deals"),className:"text-muted-foreground hover:text-primary",children:"Deals & Promotions"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Service"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(i,{href:route("frontend.contact"),className:"text-muted-foreground hover:text-primary",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.faq"),className:"text-muted-foreground hover:text-primary",children:"FAQ"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.shipping"),className:"text-muted-foreground hover:text-primary",children:"Shipping & Delivery"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.returns"),className:"text-muted-foreground hover:text-primary",children:"Returns & Refunds"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"About"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(i,{href:route("frontend.about"),className:"text-muted-foreground hover:text-primary",children:"About Us"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.careers"),className:"text-muted-foreground hover:text-primary",children:"Careers"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.privacy"),className:"text-muted-foreground hover:text-primary",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(i,{href:route("frontend.terms"),className:"text-muted-foreground hover:text-primary",children:"Terms of Service"})})]})]})]}),e.jsx("div",{className:"border-t mt-12 pt-8",children:e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Â© ",new Date().getFullYear()," 84Gate Marketplace. All rights reserved."]})})]})})}const d=[];for(let t=0;t<256;++t)d.push((t+256).toString(16).slice(1));function Ze(t,a=0){return(d[t[a+0]]+d[t[a+1]]+d[t[a+2]]+d[t[a+3]]+"-"+d[t[a+4]]+d[t[a+5]]+"-"+d[t[a+6]]+d[t[a+7]]+"-"+d[t[a+8]]+d[t[a+9]]+"-"+d[t[a+10]]+d[t[a+11]]+d[t[a+12]]+d[t[a+13]]+d[t[a+14]]+d[t[a+15]]).toLowerCase()}let E;const es=new Uint8Array(16);function ss(){if(!E){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");E=crypto.getRandomValues.bind(crypto)}return E(es)}const ts=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Q={randomUUID:ts};function rs(t,a,c){var s;if(Q.randomUUID&&!t)return Q.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??ss();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Ze(r)}function ns(){const[t,a]=m.useState(!1),[c,r]=m.useState(""),[s,n]=m.useState([]),[j,o]=m.useState([]),[y,p]=m.useState(!0),[w,C]=m.useState(""),[R,x]=m.useState(!1),b=m.useRef(null);m.useEffect(()=>{const l=localStorage.getItem("84Gate_chat_session");if(l)try{const g=JSON.parse(l),k=g.messages.map(h=>({...h,timestamp:new Date(h.timestamp)}));r(g.sessionId),n(k),k.length>1&&p(!1)}catch(g){console.error("Error parsing saved chat session:",g),_()}else _()},[]);const _=()=>{const l=rs();r(l),n([{id:"1",content:"Hello! I am the virtual assistant for 84Gate Marketplace. How can I help you today?",isBot:!0,timestamp:new Date}]),p(!0),o(["How do I place an order?","What payment methods do you accept?","How long does shipping take?","What is your return policy?","How can I track my order?","Do you ship internationally?"])};m.useEffect(()=>{if(c&&s.length>0){const l={sessionId:c,messages:s};localStorage.setItem("84Gate_chat_session",JSON.stringify(l))}},[c,s]),m.useEffect(()=>{var l;(l=b.current)==null||l.scrollIntoView({behavior:"smooth"})},[s]);const U=async(l=w)=>{var h;if(!l.trim())return;const g={id:Date.now().toString(),content:l,isBot:!1,timestamp:new Date},k=l;n(v=>[...v,g]),C(""),x(!0),p(!1);try{const u=await(await fetch("/api/chatbot",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((h=document.querySelector('meta[name="csrf-token"]'))==null?void 0:h.getAttribute("content"))||""},body:JSON.stringify({message:k,session_id:c})})).json();if(u.success){const T={id:(Date.now()+1).toString(),content:u.message,isBot:!0,timestamp:new Date,html:!0};n(P=>[...P,T]),u.session_id&&r(u.session_id),u.suggested_questions&&u.suggested_questions.length>0&&o(u.suggested_questions)}else{const T={id:(Date.now()+1).toString(),content:"I'm sorry, I'm having trouble connecting right now. Please try again later.",isBot:!0,timestamp:new Date};n(P=>[...P,T]),console.error("Chat bot error:",u.error)}}catch(v){const u={id:(Date.now()+1).toString(),content:"I'm sorry, I'm having trouble connecting right now. Please try again later.",isBot:!0,timestamp:new Date};n(T=>[...T,u]),console.error("Chat bot error:",v)}finally{x(!1)}},ee=l=>{var k;const g={id:Date.now().toString(),content:l,isBot:!1,timestamp:new Date};n(h=>[...h,g]),C(""),x(!0),p(!1),fetch("/api/chatbot",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((k=document.querySelector('meta[name="csrf-token"]'))==null?void 0:k.getAttribute("content"))||""},body:JSON.stringify({message:l,session_id:c})}).then(h=>h.json()).then(h=>{if(h.success){const v={id:(Date.now()+1).toString(),content:h.message,isBot:!0,timestamp:new Date,html:!0};n(u=>[...u,v]),h.session_id&&r(h.session_id)}}).catch(h=>{console.error("Error fetching predefined answer:",h);const v={id:(Date.now()+1).toString(),content:"I'm sorry, I'm having trouble connecting right now. Please try again later.",isBot:!0,timestamp:new Date};n(u=>[...u,v])}).finally(()=>{x(!1)})},se=l=>{l.key==="Enter"&&U()};return e.jsxs(e.Fragment,{children:[!t&&e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsx(f,{onClick:()=>a(!0),size:"lg",className:"rounded-full h-14 w-14 shadow-lg",children:e.jsx(He,{className:"h-6 w-6"})})}),e.jsx(X,{open:t,onOpenChange:a,children:e.jsxs(Z,{className:"sm:max-w-[400px] p-0 flex flex-col h-[600px] sm:h-[70vh] max-h-[700px] fixed bottom-6 right-6 rounded-lg shadow-xl border",children:[e.jsx(je,{className:"border-b p-4 flex flex-row items-center justify-between",children:e.jsx(ye,{className:"text-left",children:"84Gate Chat Bot"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(l=>e.jsx("div",{className:`flex ${l.isBot?"justify-start":"justify-end"}`,children:e.jsxs(J,{className:`max-w-[80%] p-3 ${l.isBot?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:[l.html?e.jsx("p",{className:"text-sm",dangerouslySetInnerHTML:{__html:l.content}}):e.jsx("p",{className:"text-sm",children:l.content}),e.jsx("p",{className:"text-xs opacity-70 mt-1 text-right",children:new Date(l.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},l.id)),y&&s.length===1&&j.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"You can ask me about:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((l,g)=>e.jsx(f,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>ee(l),children:l},g))})]}),R&&e.jsx("div",{className:"flex justify-start",children:e.jsx(J,{className:"max-w-[80%] p-3 bg-muted",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-muted-foreground animate-bounce"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"0.4s"}})]})})}),e.jsx("div",{ref:b})]}),e.jsxs("div",{className:"border-t p-4 flex items-center gap-2",children:[e.jsx(S,{placeholder:"Type your message...",value:w,onChange:l=>C(l.target.value),onKeyDown:se,className:"flex-1"}),e.jsx(f,{size:"icon",onClick:()=>U(),disabled:!w.trim()||R,children:e.jsx(Ve,{className:"h-4 w-4"})})]})]})})]})}function fs({children:t,title:a,description:c}){const r=Y(),s=r.props.flash,n=r.props.site;m.useEffect(()=>{if(s&&s.toast){const y=s["toast.type"]||"default",p=s["toast.message"]||"";p&&(y==="success"?F.success(p):y==="error"?F.error(p):y==="warning"?F.warning(p):y==="info"?F.info(p):F(p))}},[s]);const j=a?`${a} - ${(n==null?void 0:n.site_title)||"84Gate Marketplace"}`:(n==null?void 0:n.site_title)||"84Gate Marketplace",o=c||(n==null?void 0:n.site_description);return e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx("link",{rel:"shortcut icon",href:"/favicon.png",type:"image/png"}),o&&e.jsx("meta",{name:"description",content:o}),(n==null?void 0:n.site_keywords)&&e.jsx("meta",{name:"keywords",content:n.site_keywords}),e.jsx("meta",{property:"og:title",content:j}),o&&e.jsx("meta",{property:"og:description",content:o}),(n==null?void 0:n.thumbnail_path)&&e.jsx("meta",{property:"og:image",content:n.thumbnail_path}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx(Ye,{siteTitle:n==null?void 0:n.site_title,logoPath:"/logo.png"}),e.jsx("main",{className:"flex-1 place-items-center",children:t}),e.jsx(Xe,{}),e.jsx(ns,{}),e.jsx(we,{position:"bottom-right"})]})}export{fs as F,Ge as S};
