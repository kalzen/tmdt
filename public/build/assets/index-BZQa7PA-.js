import{r as h,j as e,L as T,$ as c,S as g}from"./app-BaJ1uPEp.js";import{A}from"./app-layout-BENjltLq.js";import{B as n}from"./button-CV0YeMoG.js";import{H as w}from"./heading-small-Zqr3Ozqi.js";import{I as D}from"./input-DvQox4_7.js";import{T as S,a as k,b as f,c as t,d as H,e as i}from"./table-BmI4M26n.js";import{B as L}from"./badge-BehvzPys.js";import{l as B,m as F,n as _}from"./sonner-B_1Y2EG6.js";import{S as Q}from"./switch-7o53iedf.js";import{A as z,a as I,b as V,c as E,d as R,e as K,f as M,g as X,h as $}from"./alert-dialog-6w2EFZA0.js";import{a as q}from"./helpers-BnKCNx3y.js";import{F as v}from"./PlusIcon-C_owgt2O.js";import"./index-4ejw1QIu.js";import"./index-BZHxc9Pz.js";import"./index-DKM3Rv-a.js";import"./app-logo-icon-zBgZ3COU.js";import"./list-DuKmuFCx.js";import"./store-BbRIbGy8.js";import"./breadcrumb-BbD90ndO.js";import"./chevron-right-DEcAd_h2.js";import"./index-zkgesfvN.js";import"./index-PXdSJRW8.js";function je({members:a}){const[d,o]=h.useState(!1),[r,C]=h.useState(""),[x,j]=h.useState(a);h.useEffect(()=>{if(r.trim()==="")j(a);else{const s=r.toLowerCase();j(a.filter(l=>{var p,m,u;return l.name.toLowerCase().includes(s)||((p=l.position)==null?void 0:p.toLowerCase().includes(s))||((m=l.email)==null?void 0:m.toLowerCase().includes(s))||((u=l.phone)==null?void 0:u.toLowerCase().includes(s))}))}},[r,a]);const y=s=>{o(!0),g.delete(route("members.destroy",s),{onFinish:()=>o(!1)})},N=s=>{g.put(route("members.update",s.id),{...s,is_active:!s.is_active})};return e.jsxs(A,{children:[e.jsx(T,{title:"Quản lý Thành Viên"}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsx(w,{title:"Quản lý Thành Viên",description:"Quản lý thông tin các thành viên trong tổ chức của bạn"}),e.jsx(n,{asChild:!0,children:e.jsxs(c,{href:route("members.create"),children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Thêm Thành Viên"]})})]}),a.length>0&&e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"relative flex-1 max-w-sm",children:e.jsx(D,{type:"search",placeholder:"Tìm kiếm thành viên...",className:"pl-8",value:r,onChange:s=>C(s.target.value)})})}),x.length>0?e.jsxs(S,{children:[e.jsx(k,{children:e.jsxs(f,{children:[e.jsx(t,{className:"w-[80px]",children:"Ảnh"}),e.jsx(t,{children:"Họ tên"}),e.jsx(t,{children:"Chức vụ"}),e.jsx(t,{children:"Liên hệ"}),e.jsx(t,{children:"Trạng thái"}),e.jsx(t,{className:"text-right",children:"Thao tác"})]})}),e.jsx(H,{children:x.map(s=>e.jsxs(f,{children:[e.jsx(i,{children:e.jsxs(B,{className:"size-12",children:[e.jsx(F,{src:q(s.avatar_thumb),alt:s.name}),e.jsx(_,{children:s.name.charAt(0)})]})}),e.jsx(i,{className:"font-medium",children:s.name}),e.jsx(i,{children:s.position||"Chưa cập nhật"}),e.jsx(i,{children:e.jsxs("div",{className:"text-sm space-y-1",children:[s.email&&e.jsx("div",{children:s.email}),s.phone&&e.jsx("div",{children:s.phone})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{checked:s.is_active,onCheckedChange:()=>N(s)}),e.jsx(L,{variant:s.is_active?"default":"secondary",children:s.is_active?"Đang hoạt động":"Không hoạt động"})]})}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(c,{href:route("members.edit",s.id),children:"Sửa"})}),e.jsx(n,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(c,{href:route("members.show",s.id),children:"Chi tiết"})}),e.jsxs(z,{children:[e.jsx(I,{asChild:!0,children:e.jsx(n,{variant:"destructive",size:"sm",children:"Xóa"})}),e.jsxs(V,{children:[e.jsxs(E,{children:[e.jsx(R,{children:"Bạn có chắc chắn?"}),e.jsx(K,{children:"Hành động này sẽ xóa thành viên và không thể khôi phục."})]}),e.jsxs(M,{children:[e.jsx(X,{children:"Hủy bỏ"}),e.jsx($,{onClick:()=>y(s.id),disabled:d,children:d?"Đang xóa...":"Xác nhận xóa"})]})]})]})]})})]},s.id))})]}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a.length===0?"Chưa có thành viên nào. Hãy thêm thành viên đầu tiên của bạn.":"Không tìm thấy thành viên nào khớp với từ khóa tìm kiếm."}),a.length===0&&e.jsx(n,{asChild:!0,className:"mt-4",children:e.jsxs(c,{href:route("members.create"),children:[e.jsx(v,{className:"h-5 w-5 mr-2"}),"Thêm Thành Viên"]})})]})]})]})}export{je as default};
