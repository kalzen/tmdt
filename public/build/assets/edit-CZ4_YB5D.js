import{m as N,r as y,j as e,L as f,$ as b}from"./app-2o4nDGWi.js";import{A as w}from"./app-layout-BQSIVwnX.js";import{B as m}from"./button-Dfvyx828.js";import{C as S,a as F,b as T,c as L,d as M,e as k}from"./card-BzGLl_LM.js";import{I as h}from"./input-DBOlZgck.js";import{L as n}from"./label-CiqtxqxK.js";import{T as p}from"./textarea-B0vyt47Z.js";import{S as H,a as I,b as D,c as E,d as U}from"./select-80tSA_d5.js";import{I as o}from"./image-uploader-DtS8TJRP.js";import{F as V}from"./ArrowLeftIcon-BOrycGys.js";import"./sonner-BnRsDLXZ.js";import"./index-DLf6G1al.js";import"./index-D31Sa7NA.js";import"./index-C_rgi8bp.js";import"./app-logo-icon-D_NbiS1D.js";import"./list-D9MzUb7u.js";import"./store-BKZeSuwa.js";import"./breadcrumb-BtNDsczr.js";import"./index-DRP8NLYK.js";import"./chevron-down-C_WeaiUS.js";import"./PencilIcon-IlXAdvy0.js";function le({config:i,types:x,media:r}){const{data:l,setData:a,patch:u,processing:c,errors:t}=N({name:i.name||"",title:i.title||"",value:i.value||"",type:i.type||"string",description:i.description||"",logo:null,favicon:null,thumbnail:null}),[d,j]=y.useState(i.type==="image"),v=s=>{s.preventDefault(),u(route("configs.update",i.id))},g=s=>{a("type",s),j(s==="image")};return e.jsxs(w,{children:[e.jsx(f,{title:"Chỉnh Sửa Cấu Hình"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(m,{variant:"outline",size:"sm",asChild:!0,className:"mr-4",children:e.jsxs(b,{href:route("configs.index"),children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Quay lại"]})}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Chỉnh Sửa Cấu Hình"})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(T,{children:"Thông Tin Cấu Hình"}),e.jsx(L,{children:"Cập nhật thông tin chi tiết cho cấu hình."})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"title",children:"Tên hiển thị"}),e.jsx(h,{id:"title",value:l.title,onChange:s=>a("title",s.target.value),placeholder:"Nhập tên hiển thị cho cấu hình"}),t.title&&e.jsx("p",{className:"text-sm text-red-600",children:t.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"Mã cấu hình"}),e.jsx(h,{id:"name",value:l.name,onChange:s=>a("name",s.target.value),placeholder:"Ví dụ: site_title"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mã cấu hình phải là duy nhất và không chứa khoảng trắng hay ký tự đặc biệt."}),t.name&&e.jsx("p",{className:"text-sm text-red-600",children:t.name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"type",children:"Kiểu dữ liệu"}),e.jsxs(H,{value:l.type,onValueChange:g,children:[e.jsx(I,{children:e.jsx(D,{placeholder:"Chọn kiểu dữ liệu"})}),e.jsx(E,{children:Object.entries(x).map(([s,C])=>e.jsx(U,{value:s,children:C},s))})]}),t.type&&e.jsx("p",{className:"text-sm text-red-600",children:t.type})]}),!d&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"value",children:"Giá trị"}),l.type==="text"?e.jsx(p,{id:"value",value:l.value,onChange:s=>a("value",s.target.value),rows:5}):e.jsx(h,{id:"value",type:l.type==="number"?"number":"text",value:l.value,onChange:s=>a("value",s.target.value)}),t.value&&e.jsx("p",{className:"text-sm text-red-600",children:t.value})]}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{id:"logo",value:r.logo,onChange:s=>a("logo",s),title:"Logo",description:"Cập nhật logo cho website",error:t.logo,placeholder:"/assets/logo-placeholder.png",className:"w-24 h-24",previewClassName:"w-full h-32 object-contain"}),e.jsx(o,{id:"favicon",value:r.favicon,onChange:s=>a("favicon",s),title:"Favicon",description:"Cập nhật favicon cho website",error:t.favicon,helpText:"Nên sử dụng hình vuông, kích thước nhỏ",placeholder:"/assets/favicon-placeholder.png",className:"w-16 h-16",previewClassName:"w-16 h-16"}),e.jsx(o,{id:"thumbnail",value:r.thumbnail,onChange:s=>a("thumbnail",s),title:"Hình thu nhỏ",description:"Cập nhật hình thu nhỏ mặc định",error:t.thumbnail,placeholder:"/assets/thumbnail-placeholder.png",className:"w-24 h-24",previewClassName:"w-full h-32"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Mô tả"}),e.jsx(p,{id:"description",value:l.description,onChange:s=>a("description",s.target.value),placeholder:"Mô tả về cấu hình này",rows:3}),t.description&&e.jsx("p",{className:"text-sm text-red-600",children:t.description})]})]}),e.jsx(k,{className:"flex justify-end",children:e.jsx(m,{type:"submit",disabled:c,children:c?"Đang cập nhật...":"Cập nhật cấu hình"})})]})]})]})})]})}export{le as default};
