import{r as f,j as e,L as v,$ as m,S as n}from"./app-BtGE91pR.js";import{H as N}from"./heading-small-DTpMhSUQ.js";import{A as C,D as b,a as y,b as S,c as h}from"./app-layout-CTGCn8wo.js";import{B as l}from"./button-DKLb_cAM.js";import{I as _}from"./input-CiV0XKd-.js";import{T as w,a as P,b as c,c as o,d as T,e as i}from"./table-BGrFBOb5.js";import{B as D}from"./badge-D3bSlaj0.js";import{_ as s}from"./translate-BcvlAL58.js";import{C as I}from"./custom-pagination-BUYDUpTz.js";import{E as A}from"./ellipsis-PNBmoru-.js";import{P as B}from"./pencil-CJxhCfhm.js";import{T as E}from"./trash-2-BRFOBqEc.js";import"./sonner-ADRQgd_T.js";import"./index-DQkJsBT1.js";import"./index-DJJ0opRn.js";import"./index-DG753qKl.js";import"./index-DcQdqpwx.js";import"./index-Bw90D0kP.js";import"./app-logo-icon-E3-GpmeE.js";import"./list-CQBPjU6S.js";import"./store-oIZzt7RG.js";import"./breadcrumb-VnWDUXDp.js";import"./chevron-right-eQMH9edB.js";import"./pagination-Q-CnMMYj.js";import"./chevron-left-NyFFWzgL.js";import"./select-YY3QiZ0L.js";import"./index-B94CT-Ga.js";import"./chevron-down-kKVuXPxj.js";function le({catalogues:r,filters:t}){const[d,p]=f.useState(t.search||"");console.log("Catalogues data:",r);const u=[{title:s("admin.catalogues","Catalogues"),href:route("catalogues.index")}],x=a=>{a.preventDefault(),n.get(route("catalogues.index"),{search:d},{preserveState:!0})},j=a=>{confirm("Are you sure you want to delete this catalogue?")&&n.delete(route("catalogues.destroy",a))},g=a=>a===0?"":"—".repeat(a)+" ";return e.jsxs(C,{breadcrumbs:u,children:[e.jsx(v,{title:s("admin.catalogues","Catalogues")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{title:s("admin.catalogues","Catalogues"),description:s("admin.catalogues_description","Manage your store categories and subcategories")}),e.jsx(m,{href:route("catalogues.create"),children:e.jsx(l,{children:s("admin.create_catalogue","Create Catalogue")})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("form",{onSubmit:x,className:"flex-1 max-w-sm",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(_,{type:"search",placeholder:s("admin.search_catalogues","Search catalogues..."),className:"pl-4 pr-12",value:d,onChange:a=>p(a.target.value)}),e.jsx(l,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:s("admin.search","Search")})]})}),t.search&&e.jsx(l,{variant:"ghost",onClick:()=>n.get(route("catalogues.index"),{}),children:s("admin.clear_filters","Clear filters")})]}),e.jsx("div",{className:"border rounded-md",children:e.jsxs(w,{children:[e.jsx(P,{children:e.jsxs(c,{children:[e.jsx(o,{className:"w-[40%]",children:"Name"}),e.jsx(o,{children:"Parent"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Products"}),e.jsx(o,{className:"text-right",children:"Actions"})]})}),e.jsx(T,{children:r.data.length===0?e.jsx(c,{children:e.jsx(i,{colSpan:5,className:"text-center text-muted-foreground py-8",children:t.search?`No catalogues found matching "${t.search}"`:"No catalogues found. Add your first catalogue."})}):r.data.map(a=>e.jsxs(c,{children:[e.jsxs(i,{className:"font-medium",children:[g(a.level)," ",a.name]}),e.jsx(i,{children:a.parent?a.parent.name:"—"}),e.jsx(i,{children:e.jsx(D,{variant:a.is_active?"success":"outline",children:a.is_active?"Active":"Inactive"})}),e.jsx(i,{children:a.products_count}),e.jsx(i,{className:"text-right",children:e.jsxs(b,{children:[e.jsx(y,{asChild:!0,children:e.jsxs(l,{variant:"ghost",size:"icon",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(S,{align:"end",children:[e.jsx(h,{asChild:!0,children:e.jsxs(m,{href:route("catalogues.edit",a.id),children:[e.jsx(B,{className:"h-4 w-4 mr-2"})," Edit"]})}),e.jsxs(h,{onClick:()=>j(a.id),children:[e.jsx(E,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]},a.id))})]})}),r&&r.data&&r.data.length>0&&e.jsx("div",{className:"mt-4 border-t pt-4",children:e.jsx(I,{currentPage:r.meta.current_page,lastPage:r.meta.last_page,perPage:parseInt(t.per_page||"10"),total:r.meta.total,from:r.meta.from,to:r.meta.to,onPageChange:a=>{n.get(route("catalogues.index"),{...t,page:a},{preserveState:!0,preserveScroll:!0})},onPerPageChange:a=>{n.get(route("catalogues.index"),{...t,per_page:a,page:1},{preserveState:!0})}})})]})]})}export{le as default};
