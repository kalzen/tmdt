import{r as o,j as e,L as y,$ as d,S as r}from"./app-dP_i2JvW.js";import{A as C}from"./app-layout-LWa8bQAX.js";import{B as l}from"./button-DKJQ5y5i.js";import{H as S}from"./heading-small-DYScH-Pw.js";import{I as w}from"./input-dItr9mAp.js";import{A,a as D,b as H,c as P,d as T,e as F,f as k,g as _,h as I}from"./alert-dialog-CztLNrV2.js";import{P as K}from"./pagination-CUvBujCf.js";import{S as $,a as z,b as B,c as L,d as x}from"./select-DIc3JU5S.js";import{F as u}from"./PlusIcon-CnKPKpTX.js";import{F as Q}from"./MagnifyingGlassIcon-CNLevhx0.js";import"./sonner-CnSKM96x.js";import"./index-CnRC6Q4F.js";import"./index-bY1mtz_b.js";import"./index-BVBmE_gu.js";import"./app-logo-icon-DjwsciTF.js";import"./list-DZFvdjjL.js";import"./store-CIF04_BC.js";import"./breadcrumb-DH3QRoTt.js";import"./index-D6pgXtgL.js";import"./chevron-down-BClZ1tiA.js";function ie({configs:a,filters:s,groups:i=[],flash:R}){const[h,m]=o.useState(!1),[n,c]=o.useState(s.search||""),p=t=>t.type==="boolean"?t.value==="1"?"Có":"Không":t.type==="image"?"Tệp hình ảnh":t.type==="text"&&t.value&&t.value.length>50?`${t.value.substring(0,50)}...`:t.value,g=t=>{m(!0),r.delete(route("configs.destroy",t),{onFinish:()=>m(!1)})},j=t=>{t.preventDefault(),r.get(route("configs.index"),{...s,search:n},{preserveState:!0})},b=t=>{r.get(route("configs.index"),{...s,group:t||null},{preserveState:!0})},f=()=>{c(""),r.get(route("configs.index"),{},{preserveState:!0})},v=t=>{r.get(route("configs.index"),{...s,page:t},{preserveState:!0})},N=t=>{r.get(route("configs.index"),{...s,per_page:t},{preserveState:!0})};return e.jsxs(C,{children:[e.jsx(y,{title:"Cấu Hình Website"}),e.jsxs("div",{className:"space-y-6 px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsx(S,{title:"Cấu Hình Website",description:"Quản lý các cấu hình và thiết lập cho website của bạn"}),e.jsx(l,{asChild:!0,children:e.jsxs(d,{href:route("configs.create"),children:[e.jsx(u,{className:"h-5 w-5 mr-2"}),"Thêm Cấu Hình"]})})]}),a.data.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("form",{onSubmit:j,className:"flex-1 max-w-sm",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(Q,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500 dark:text-gray-400"}),e.jsx(w,{type:"search",placeholder:"Tìm kiếm cấu hình...",className:"pl-8",value:n,onChange:t=>c(t.target.value)}),e.jsx(l,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:"Tìm"})]})}),i.length>0&&e.jsxs($,{value:s.group||"",onValueChange:b,children:[e.jsx(z,{className:"w-[180px]",children:e.jsx(B,{placeholder:"Chọn nhóm"})}),e.jsxs(L,{children:[e.jsx(x,{value:"",children:"Tất cả nhóm"}),i.map(t=>e.jsx(x,{value:t,children:t},t))]})]}),(s.search||s.group)&&e.jsx(l,{variant:"ghost",onClick:f,children:"Xóa bộ lọc"})]}),e.jsx("div",{className:"rounded-md border",children:e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsxs("table",{className:"w-full caption-bottom text-sm",children:[e.jsx("thead",{className:"[&_tr]:border-b",children:e.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Tên hiển thị"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Mã"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Kiểu"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Giá trị"}),e.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Mô tả"}),e.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Hành động"})]})}),e.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:a.data.length===0?e.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:e.jsx("td",{colSpan:6,className:"p-4 align-middle text-center text-muted-foreground",children:"Không tìm thấy cấu hình nào. Hãy tạo cấu hình đầu tiên của bạn."})}):a.data.map(t=>e.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[e.jsx("td",{className:"p-4 align-middle font-medium",children:t.title}),e.jsx("td",{className:"p-4 align-middle",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:t.name})}),e.jsx("td",{className:"p-4 align-middle",children:e.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-800",children:t.type})}),e.jsx("td",{className:"p-4 align-middle",children:p(t)}),e.jsx("td",{className:"p-4 align-middle",children:e.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:t.description})}),e.jsx("td",{className:"p-4 align-middle text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(l,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(d,{href:route("configs.edit",t.id),children:"Sửa"})}),e.jsxs(A,{children:[e.jsx(D,{asChild:!0,children:e.jsx(l,{variant:"destructive",size:"sm",children:"Xóa"})}),e.jsxs(H,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Bạn có chắc chắn?"}),e.jsx(F,{children:"Hành động này không thể hoàn tác. Cấu hình sẽ bị xóa vĩnh viễn."})]}),e.jsxs(k,{children:[e.jsx(_,{children:"Hủy bỏ"}),e.jsx(I,{onClick:()=>g(t.id),disabled:h,children:h?"Đang xóa...":"Xóa"})]})]})]})]})})]},t.id))})]})})}),a.data.length===0&&!n&&e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Không tìm thấy cấu hình nào. Hãy tạo cấu hình đầu tiên của bạn."}),e.jsx(l,{asChild:!0,className:"mt-4",children:e.jsxs(d,{href:route("configs.create"),children:[e.jsx(u,{className:"h-5 w-5 mr-2"}),"Thêm Cấu Hình"]})})]}),a.meta&&e.jsx("div",{className:"mt-6 border-t pt-6",children:e.jsx(K,{currentPage:a.meta.current_page,lastPage:a.meta.last_page,perPage:parseInt(s.per_page||"10"),total:a.meta.total,from:a.meta.from||0,to:a.meta.to||0,onPageChange:v,onPerPageChange:N})})]})]})}export{ie as default};
