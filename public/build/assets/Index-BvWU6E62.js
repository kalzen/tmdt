import{r as u,j as e,L as F,$ as h,S as p}from"./app-DVolXm_H.js";import{H as U}from"./heading-small-CrP9WFqi.js";import{A as $}from"./app-layout-BGMCOdRm.js";import{B as c}from"./button-DbKjlMrn.js";import{I as q}from"./input-BqT_-I7N.js";import{T as Q,a as K,b as j,c as l,d as O,e as t}from"./table-Dk2pM1H_.js";import{B as I}from"./badge-6e0qjOlb.js";import{D as f,a as g,b as v,c as i}from"./sonner-CEinsP_z.js";import{_ as a}from"./translate-CmK6Bi0q.js";import{f as N}from"./helpers-BnKCNx3y.js";import{C as V}from"./circle-x-7WbyTAd7.js";import{I as X}from"./image-BJ6bLQ3b.js";import{E as G}from"./ellipsis-CgWpl1Pe.js";import{E as J}from"./eye-CG6ggOtV.js";import{P as W}from"./pencil-CWByr8eo.js";import{T as Y}from"./trash-2-kN2Ote4L.js";import"./index-_mtVRR73.js";import"./index-C7NGfonP.js";import"./index-CW0FACpT.js";import"./app-logo-icon-CCGXo8xc.js";import"./list-CcDTc0Y3.js";import"./store-CV19H3N4.js";import"./breadcrumb-Co9X1bHK.js";import"./chevron-right-C1IPqF67.js";import"./index-BG5QGlun.js";function Ce({products:P,catalogues:T,filters:d}){var k;const w=P||{data:[]},y=T||[],r=d||{},D=Array.isArray(y)?y:[],[_,z]=u.useState(r.search||""),[C,B]=u.useState(r.catalogue_id||""),[b,E]=u.useState(r.status||""),M=[{title:a("admin.products","Products"),href:route("products.index")}],R=s=>{s.preventDefault(),m({search:_})},S=s=>{B(s),m({catalogue_id:s})},o=s=>{E(s),m({status:s})},m=s=>{p.get(route("products.index"),{...r,...s,page:1},{preserveState:!0,replace:!0})},x=D.map(s=>{const n=s.level||0,H=n>0?"â€”".repeat(n)+" ":"";return{id:s.id,name:H+s.name}}),L=(s,n)=>{confirm(`Are you sure you want to delete "${n}"?`)&&p.delete(route("products.destroy",s))},A=Array.isArray(w.data)?w.data:[];return e.jsxs($,{breadcrumbs:M,children:[e.jsx(F,{title:a("admin.products","Products")}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(U,{title:a("admin.products","Products"),description:a("admin.products_description","Manage your products inventory")}),e.jsx(h,{href:route("products.create"),children:e.jsx(c,{children:a("admin.create_product","Create Product")})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center pb-4 border-b",children:[e.jsx("form",{onSubmit:R,className:"flex-1 min-w-[240px]",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(q,{type:"search",placeholder:a("admin.search_products","Search products..."),className:"pl-4 pr-12",value:_,onChange:s=>z(s.target.value)}),e.jsx(c,{type:"submit",size:"sm",variant:"ghost",className:"absolute right-0",children:a("admin.search","Search")})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.length>0&&e.jsxs(f,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"min-w-[180px] justify-between",children:[C?((k=x.find(s=>s.id.toString()===C))==null?void 0:k.name)||a("admin.unknown_catalogue","Unknown catalogue"):a("admin.all_catalogues","All catalogues"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsxs(v,{align:"start",className:"w-[180px] max-h-[400px] overflow-auto",children:[e.jsx(i,{onClick:()=>S(""),children:a("admin.all_catalogues","All catalogues")}),x.map(s=>e.jsx(i,{onClick:()=>S(s.id.toString()),children:s.name},s.id))]})]}),e.jsxs(f,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"min-w-[150px] justify-between",children:[b==="active"?a("admin.active","Active"):b==="inactive"?a("admin.inactive","Inactive"):a("admin.all_statuses","All statuses"),e.jsx("svg",{className:"h-4 w-4 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),e.jsxs(v,{align:"start",className:"w-[150px]",children:[e.jsx(i,{onClick:()=>o(""),children:a("admin.all_statuses","All statuses")}),e.jsx(i,{onClick:()=>o("active"),children:a("admin.active","Active")}),e.jsx(i,{onClick:()=>o("inactive"),children:a("admin.inactive","Inactive")})]})]}),(d.search||d.catalogue_id||d.status)&&e.jsx(c,{variant:"outline",size:"icon",onClick:()=>p.get(route("products.index"),{}),title:a("admin.clear_filters","Clear filters"),children:e.jsx(V,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Q,{children:[e.jsx(K,{children:e.jsxs(j,{children:[e.jsx(l,{className:"w-[100px]",children:a("admin.image","Image")}),e.jsx(l,{children:a("admin.product","Product")}),e.jsx(l,{children:a("admin.catalogue","Catalogue")}),e.jsx(l,{className:"text-right",children:a("admin.price","Price")}),e.jsx(l,{className:"text-center",children:a("admin.stock","Stock")}),e.jsx(l,{className:"text-center",children:a("admin.status","Status")}),e.jsx(l,{className:"text-right",children:a("admin.actions","Actions")})]})}),e.jsx(O,{children:A.length===0?e.jsx(j,{children:e.jsx(t,{colSpan:7,className:"text-center text-muted-foreground py-8",children:r.search||r.catalogue_id||r.status?a("admin.no_products_found_with_filters","No products match your filters."):a("admin.no_products_found","No products found. Create your first product.")})}):A.map(s=>{var n;return e.jsxs(j,{children:[e.jsx(t,{children:e.jsx("div",{className:"w-[100px] h-[100px] flex items-center justify-center",children:s.thumbnail_url?e.jsx("img",{src:s.thumbnail_url,alt:s.title,className:"max-w-[100px] max-h-[100px] object-contain"}):e.jsx("div",{className:"w-[100px] h-[100px] flex items-center justify-center bg-muted rounded-md",children:e.jsx(X,{className:"h-8 w-8 text-muted-foreground"})})})}),e.jsx(t,{className:"font-medium",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:s.title}),s.sku&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["SKU: ",s.sku]})]})}),e.jsxs(t,{children:[((n=s.catalogue)==null?void 0:n.name)||a("admin.uncategorized","Uncategorized"),s.catalogue_count>1&&e.jsxs(I,{variant:"outline",className:"ml-1",children:["+",s.catalogue_count-1]})]}),e.jsx(t,{className:"text-right",children:e.jsx("div",{className:"flex flex-col items-end",children:s.sale_price?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium",children:N(s.sale_price)}),e.jsx("span",{className:"text-xs text-muted-foreground line-through",children:N(s.price)})]}):e.jsx("span",{className:"font-medium",children:N(s.price)})})}),e.jsx(t,{className:"text-center",children:e.jsx("span",{className:s.stock_quantity<=0?"text-destructive":"",children:s.stock_quantity})}),e.jsx(t,{className:"text-center",children:e.jsx(I,{variant:s.is_active?"success":"outline",children:s.is_active?a("admin.active","Active"):a("admin.inactive","Inactive")})}),e.jsx(t,{className:"text-right",children:e.jsxs(f,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(c,{variant:"ghost",size:"icon",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(v,{align:"end",children:[e.jsx(i,{asChild:!0,children:e.jsxs(h,{href:route("products.show",s.id),children:[e.jsx(J,{className:"h-4 w-4 mr-2"})," ",a("admin.view","View")]})}),e.jsx(i,{asChild:!0,children:e.jsxs(h,{href:route("products.edit",s.id),children:[e.jsx(W,{className:"h-4 w-4 mr-2"})," ",a("admin.edit","Edit")]})}),e.jsxs(i,{onClick:()=>L(s.id,s.title),className:"text-destructive focus:text-destructive",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"})," ",a("admin.delete","Delete")]})]})]})})]},s.id)})})]})})]})]})}export{Ce as default};
